var Rzlzh={};Rzlzh.onReady=function(t,e){window.cadb?(new Bricks.Remote).request("GET",String(new Templates.Resource("/i/cadb.json",!0)),{},{},{},function(i){if(i.cadb){Bricks.DOM.on(window,"message",function n(i){"cadb"===i.data&&(Bricks.DOM.un(window,"message",n),t.call(e))});var s=document.createElement("iframe");s.src=String(new Templates.Resource("/i/cadb.html",!0)),Bricks.DOM.setStyle(s,{position:"absolute",left:"-9999px",top:"-9999px",width:"1px",height:"1px"}),document.body.appendChild(s)}}):t.call(e)};var Templates={},Botex={_csses:[],mixin:function(t,e){if("function"==typeof Object.assign)return Object.assign.apply(Object,arguments);if(e)for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t},addCss:function(t){this._csses.push(t)}};Botex.Template=function(t){this._mixers={},this._getPrototypeValues("mixers").forEach(function(t){Object.keys(t).forEach(function(e){this._mixers[e]||(this._mixers[e]=t[e])},this)},this),this._mixin(this,t),this._initTemplate(),this._getPrototypeValues("_render").forEach(function(t){this._mixin(this,t.call(this))},this),this._result=this._toHTML(this.content)},Botex.Template.prototype={content:"",mixers:{},_initTemplate:function(){},toString:function(){return this._result},_mixin:function(t,e){if(e)for(var i in e)if("function"!=typeof e.hasOwnProperty||e.hasOwnProperty(i)){var s=this._mixers[i];s?"class"===s?t[i]+=" "+e[i]:"object"===s?(t[i]=Botex.mixin({},t[i]),Botex.mixin(t[i],e[i])):"function"==typeof s&&(t[i]=s(t[i],e[i])):t[i]=e[i]}return t},_format:function(t){t=[t].join("");var e=[].slice.call(arguments,1),i=this._escapeHTML,s=this._pluralIndex;return t.replace(/(\\)?(\$\{(\d+)(?: ([^}]+))?\})/g,function(t,n,r,a,A){if(n)return r;var o=i([e[a]].join(""));return A&&(o.length>4&&(o="<span>"+o.replace(/(\d)(?=(\d\d\d)+$)/g,'$1</span><span style="padding-left: 0.15em;">')+"</span>"),o+=" "+A.split("|")[s(e[a])]),o})},_pluralIndex:function(t){return 0>t&&(t=-t),t%10===1&&t%100!==11?0:t%10>=2&&4>=t%10&&(10>t%100||t%100>=20)?1:2},_escapeHTML:function(t){return t.replace(/[<>&]/g,function(t){return{"<":"&lt;",">":"&gt;","&":"&amp;"}[t]||t})},_isEmpty:function(t){return"boolean"==typeof t?!0:Array.isArray(t)?t.every(this._isEmpty,this):![t].join("").length},_toHTML:function(t){return"boolean"==typeof t?"":Array.isArray(t)?t.map(this._toHTML,this).join(""):[t].join("")},_getPrototypeValues:function(t){for(var e=this.hasOwnProperty(t)?[this[t]]:[],i=this.__proto__||this.constructor.prototype;i!==Botex.Template.prototype;)i.hasOwnProperty(t)&&e.push(i[t]),i=i.__proto__||i.constructor.superclass;return e}},Botex.Template.prototype.constructor=Botex.Template,Botex.Template.inherit=function(t){t=t||{};var e=this;t.hasOwnProperty("constructor")||(t.constructor=function(){e.apply(this,arguments)}),t.css&&Botex.addCss(t.css);var i=function(){};return i.prototype=e.prototype,t.constructor.prototype=new i,Botex.mixin(t.constructor.prototype,t),t.constructor.prototype.constructor=t.constructor,t.constructor.superclass=e.prototype,t.constructor.inherit=Botex.Template.inherit,t.constructor.setDefaults=Botex.Template.setDefaults,t.constructor},Botex.Template.setDefaults=function(t){Botex.mixin(this.prototype,t)},Templates.Resource=Botex.Template.inherit({src:"",garbage:!1,staticPath:[],constructor:function(t,e){Templates.Resource.superclass.constructor.call(this,{src:t,garbage:e})},_render:function(){var t="undefined"!=typeof window&&window.STATIC||this.staticPath,e=(this.garbage?this._getGarbage(295-this.src.length):"")+this.src;return{content:t[this._checkSumm(this.src)%t.length]+e}},_checkSumm:function(t){for(var e=2166136261,i=0,s=t.length;s>i;++i)e^=t.charCodeAt(i),e+=(e<<1)+(e<<4)+(e<<7)+(e<<8)+(e<<24);return e>>>0},_getGarbage:function(t){for(var e="";e.length<t;)e+="/"+Math.random().toString(36).slice(2);return e.slice(0,t-1)+"z"}});var Bricks={};Bricks.DOM={},Bricks.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"==Object.prototype.toString.call(t)},Bricks.DOM.getEl=function(t,e){return e=e||document,"string"==typeof t?e.getElementById(t):t},Bricks.String={},Bricks.String.trim=function(t){return t.replace(/^\s+|\s+$/g,"")},Bricks.DOM.createSelectorFilter=function(t){if(this.Bricks_DOM__selectors=this.Bricks_DOM__selectors||{},t=Bricks.String.trim(t),!this.Bricks_DOM__selectors[t]){var e=t.split("."),i=e[0].toUpperCase(),s=e[1],n=[];i&&"*"!=i&&n.push('e.tagName=="'+i.replace(/"/g,"\\u0022")+'"'),s&&n.push("e.className && e.className.match && e.className.match(/(^|\\s)"+s+"(\\s|$)/)"),this.Bricks_DOM__selectors[t]=new Function("e","return "+(n.join("&&")||"true"))}return this.Bricks_DOM__selectors[t]},Bricks.DOM.getEls=function(t,e){if(e||(e=[document]),Bricks.isArray(e)||(e=[e]),"!"==t.charAt(0)){var i=!0;t=t.substr(1)}for(var s=Bricks.DOM.createSelectorFilter(t),n=[],r=0;r<e.length;r++)for(var a=Bricks.DOM.getEl(e[r]).getElementsByTagName(t.split(".")[0]||"*"),A=0;A<a.length;A++)if(s(a[A])){if(i)return a[A];n.push(a[A])}return i?null:n},Bricks.DOM.getWindow=function(t){return t=t||document,t.parentWindow||t.defaultView},Bricks.DOM.getDocumentScroll=function(t){t=t||document;var e=Bricks.DOM.getWindow(t);return[e.pageXOffset||t.documentElement.scrollLeft||t.body.scrollLeft||0,e.pageYOffset||t.documentElement.scrollTop||t.body.scrollTop||0]},Bricks.DOM.getRootElement=function(t){return t=t||document,"CSS1Compat"==t.compatMode?t.documentElement:t.body},Bricks.DOM.getViewportSize=function(t){t=t||document;var e=Bricks.DOM.getRootElement(t);return[e.clientWidth,e.clientHeight]},Bricks.DOM.getPos=function(t){if(t=Bricks.DOM.getEl(t),t.getBoundingClientRect){var e=t.getBoundingClientRect(),i=t.ownerDocument,s=Bricks.DOM.getDocumentScroll(i),n=Bricks.DOM.getRootElement(i);return[e.left+s[0]-(n.clientLeft||0),e.top+s[1]-(n.clientTop||0)]}for(var r=0,a=0;t;)r+=parseInt(t.offsetLeft),a+=parseInt(t.offsetTop),t=t.offsetParent;return[r,a]},Bricks.DOM.removeClassName=function(t,e){if(t=Bricks.DOM.getEl(t),t.classList)t.classList.remove(e);else{var i="string"==typeof t.className,s=i?t.className:t.getAttribute("class"),n=s.replace(new RegExp("(^|\\s)"+e+"(?=\\s|$)","g")," ");s!==n&&(i?t.className=n:t.setAttribute("class",n))}},Bricks.String.camelize=function(t){return t.replace(/-([a-z])/g,function(){return arguments[1].toUpperCase()})},Bricks.DOM.normalizeCSSProperty=function(t,e,i){var s=i?i.style:document.documentElement.style;if(t=Bricks.String.camelize(t),"opacity"==t&&"string"!=typeof s.opacity)return["filter",1==e?"":"Alpha(opacity="+100*e+")"];if("float"==t)return i&&(t="string"==typeof s.cssFloat?"cssFloat":"styleFloat"),[t,e];if("display"==t&&"flex"==e&&"string"==typeof s["-ms-flex"])return["display","-ms-flexbox"];if("string"!=typeof s[t]){if("string"==typeof s["-ms-"+t])return["-ms-"+t,e];for(var n=["Moz","Webkit","O","Opera"],r=Bricks.String.camelize("-"+t),a=0;a<n.length;a++)if("string"==typeof s[n[a]+r])return[n[a]+r,e]}return[t,e]},Bricks.DOM.setStyle=function(t,e){t=Bricks.DOM.getEl(t);for(var i in e)if(e.hasOwnProperty(i)){var s=Bricks.DOM.normalizeCSSProperty(i,e[i]);t.style[s[0]]=s[1]}},Rzlzh.initPreviews=function(t){var e=Bricks.DOM.getEls(".preview",t);if(e.length){var i=Bricks.DOM.getDocumentScroll(),s=Bricks.DOM.getViewportSize();e.forEach(function(e){var n=!1,r=e.getAttribute("data-size");if("m"===r||"s"===r)if(t)n=!0;else{var a=Bricks.DOM.getPos(e);a[1]>i[1]-e.offsetHeight&&a[1]<i[1]+s[1]&&(n=!0)}if(n){var A="";window.devicePixelRatio&&window.devicePixelRatio>=2&&(A="_x2");var o=new Templates.Resource("/i/apps/"+e.getAttribute("data-id")+"/preview_"+r+A+".png");Bricks.DOM.setStyle(e,{"background-image":"url("+o+")"}),Bricks.DOM.removeClassName(e,"preview")}})}},Bricks.mixin=function(t){for(var e=1;e<arguments.length;e++)if(arguments[e]){for(var i in arguments[e])arguments[e].hasOwnProperty(i)&&(t[i]=arguments[e][i]);arguments[e].hasOwnProperty("toString")&&(t.toString=arguments[e].toString)}return t},Botex.Tag=Botex.Template.inherit({tagName:"div",attrs:{},className:"",style:{},content:"",mixers:{attrs:"object",className:"class",style:"object"},_render:function(){var t=Botex.mixin({},this.attrs);this.className&&(t["class"]=this.className);var e=Object.keys(this.style).map(function(t){return t+":"+this.style[t]+";"},this).join("");e&&(t.style=e);var i=Object.keys(t).map(function(e){var i=t[e];return i?("boolean"==typeof i&&(i=e)," "+e+'="'+this._escapeAttr(i)+'"'):""},this).join("");return{content:"<"+this.tagName+i+(this._isShortTag()?"/>":">"+this._toHTML(this.content)+"</"+this.tagName+">")}},_escapeAttr:function(t){return String(t).replace(/"/g,"&quot;")},_isShortTag:function(){return/^(br|col|embed|hr|img|input|link|meta|param|wbr)$/i.test(this.tagName)}}),Templates.RtbBlock=Botex.Tag.inherit({blockId:"",_render:function(){return{tagName:"span",className:"_27",content:new Botex.Tag({className:"_27_0 _"+this.blockId.substr(4),content:new Botex.Tag})}}}),Templates.RtbBlock.cls="_27_0",Bricks.Function={},Bricks.Function.defer=function(t,e,i,s){return window.setTimeout(function(){t.apply(i,s||[])},e)},Rzlzh.ymParams=function(){var t=[].slice.call(arguments,0);!function(){var e=window["yaCounter"+window.yaCounterId];e?e.params.apply(e,t):Bricks.Function.defer(arguments.callee,1e3)}()},Rzlzh.initRTB=function(){window.hasAdvert&&("function"==typeof window.common1?(Rzlzh._2f_1||(Rzlzh._2f_1=[]),Bricks.DOM.getEls("."+Templates.RtbBlock.cls).forEach(function(t){var e=t.parentNode;if(e.offsetWidth&&e.offsetHeight){var i="R-A-"+t.className.split(" ").pop().substr(1),s=Math.random().toString(36).slice(2);e.setAttribute("id",s),common1(s,i,window.advertSlice||""),Rzlzh._2f_1.push({elId:s,blockId:i,updateTime:(new Date).getTime()}),Bricks.DOM.removeClassName(t,Templates.RtbBlock.cls)}},this)):Bricks.Function.defer(Rzlzh.initRTB,1e3))},Bricks.create=function(t){t=t||{};var e="function"==typeof this?this:Object,i=t.hasOwnProperty("constructor")?t.constructor:function(){e.apply(this,arguments)},s=function(){};return s.prototype=e.prototype,i.prototype=new s,Bricks.mixin(i.prototype,"function"==typeof t?t(e.prototype):t),i.prototype.constructor=i,i.superclass=e.prototype,i.inherit=Bricks.create,"function"==typeof t&&(i.reinherit=function(e){return e.inherit(t)}),i},Bricks.getPrototypeChain=function(t,e){for(var i=!e||t.hasOwnProperty(e)?[t]:[],s=t.constructor.prototype;s;)(!e||s.hasOwnProperty(e))&&i.push(s),s=s.constructor.superclass;return i},Bricks.Observer=Bricks.create({addEventListener:function(t,e){this.hasOwnProperty("_3r_0")||(this._3r_0={}),this._3r_0[t]=this._3r_0[t]||[],this._3r_0[t].push(e)},removeEventListener:function(t,e){if(this.hasOwnProperty("_3r_0")&&this._3r_0[t])for(var i=0;i<this._3r_0[t].length;i++)this._3r_0[t][i]==e&&(this._3r_0[t].splice(i,1),i--)},_fireEvent:function(t,e){for(var i=Bricks.getPrototypeChain(this,"_3r_0"),s=0;s<i.length;s++){var n=i[s]._3r_0[t]||[];i[s]._3r_0["*"]&&(n=n.concat(i[s]._3r_0["*"]));for(var r=Bricks.mixin({},e,{type:t,target:this}),a=n.length-1;a>=0;a--)try{if(n[a].call(this,r)===!1)return!1}catch(A){this._handleListenerError(A)}}return!0},_handleListenerError:function(t){setTimeout(function(){throw t},10)}}),Bricks.EventsController=Bricks.create({constructor:function(){this._listeners={}},on:function(t,e,i,s){for(var n=e.split(","),r=0;r<n.length;r++){var a=Bricks.String.trim(n[r]);this._listeners[a]=this._listeners[a]||[];var A=function(t){return i.call(s,t||window.event)};this._listeners[a].push([t,i,s,A]),t.addEventListener?t.addEventListener(a,A,!1):t.attachEvent&&t.attachEvent("on"+a,A)}},un:function(t,e,i,s){for(var n=e.split(","),r=0;r<n.length;r++)for(var a=Bricks.String.trim(n[r]),A=this._listeners[a]||[],o=0;o<A.length;o++){var c=A[o];if(c[0]==t&&c[1]==i&&c[2]==s){A.splice(o,1),this._removeListener(t,a,c[3]);break}}},unAll:function(){for(var t in this._listeners)if(this._listeners.hasOwnProperty(t)){for(var e=0;e<this._listeners[t].length;e++)this._removeListener(this._listeners[t][e][0],t,this._listeners[t][e][3]);delete this._listeners[t]}},_removeListener:function(t,e,i){t.removeEventListener?t.removeEventListener(e,i,!1):t.detachEvent&&t.detachEvent("on"+e,i)}}),Bricks.Component=Bricks.Observer.inherit({constructor:function(t){Bricks.Component.superclass.constructor.apply(this,arguments),Bricks.mixin(this,t),this._initComponent()},_initComponent:function(){this._eventsController=new Bricks.EventsController},destroy:function(){this._eventsController.unAll(),this._fireEvent("destroy")},_on:function(t,e,i){this._eventsController.on("string"==typeof t?Bricks.DOM.getEl(t):t,e,i,this)},_un:function(t,e,i){this._eventsController.un("string"==typeof t?Bricks.DOM.getEl(t):t,e,i,this)}}),Bricks.DOM.createFragment=function(t,e){e=e||document;var i=e.createDocumentFragment();if(t.length){var s=e.createElement("div");for(s.innerHTML=t;s.firstChild;)i.appendChild(s.firstChild)}return i},Bricks.String.uncamelize=function(t){return t.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()})},Bricks.String.escapeHTML=function(t){var e=document.createElement("DIV"),i=document.createTextNode(t);return e.appendChild(i),e.innerHTML},Bricks.String.compile=function(t){function e(t){for(var e=t.charCodeAt(0).toString(16);e.length<4;)e="0"+e;return"\\u"+e}var i="$_"+Math.round(1e9*Math.random()),s=["var ",i,"=[];"];s.push(t.replace(/(<%((&)?=)?(.*?)%>)|([\s\S]+?(?=(<%|$)))/g,function(t,s,n,r,a){var A;return A=s?n?r?[i,".push(",a,");"]:[i,".push(arguments.callee.escapeHTML(String(",a,")));"]:[a,"\n"]:[i,'.push("',t.replace(/[\s\S]/g,e),'");'],A.join("")})),s.push("return ",i,'.join("");');var n=new Function(s.join(""));return n.escapeHTML=Bricks.String.escapeHTML,n},Bricks.AbstractWidget=Bricks.Component.inherit({renderTo:null,tagName:"div",className:"",css:{},html:"",doc:null,_3q_0:{},_initComponent:function(){Bricks.AbstractWidget.superclass._initComponent.apply(this,arguments),this._renderTo=this.renderTo?Bricks.DOM.getEl(this.renderTo):null,this._doc=this.doc||(this._renderTo?this._renderTo.ownerDocument:document),this._buildCss()},_getClassNames:function(){for(var t=Bricks.getPrototypeChain(this,"className"),e=[],i=0;i<t.length;i++)e.push(t[i].className);return e.join(" ")},_buildCss:function(){for(var t=Bricks.getPrototypeChain(this,"css"),e=[],i=0;i<t.length;i++){t[i].hasOwnProperty("_3q_1")||(t[i]._3q_1=[]);for(var s=!0,n=0;n<t[i]._3q_1.length;n++)if(t[i]._3q_1[n]==this._doc){s=!1;break}s&&(t[i]._3q_1.push(this._doc),e.unshift(this._compileCSSRule("",t[i].css)))}var r=Bricks.String.trim(e.join(""));if(r=r.replace(/^\{\s*}/,"")){var a="_3q_2",A=Bricks.DOM.getEl(a);if(A){var o=A.styleSheet&&A.styleSheet.cssText||A.innerText||A.innerHTML||"";o&&(r=o+r,Bricks.DOM.remove(A))}var c=this._doc.createElement("style");c.type="text/css",c.id=a,c.styleSheet?c.styleSheet.cssText=r:c=Bricks.DOM.createFragment('<style type="text/css" id="'+a+'">'+r+"</style>",this._doc),this._doc.getElementsByTagName("head")[0].appendChild(c)}},_compileCSSRule:function(t,e){var i=[],s=[];for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];if("object"==typeof r)if(/^[?^] /.test(n)){var a="string"==typeof this._doc.documentElement.style[Bricks.DOM.normalizeCSSProperty(n.substr(2),"")[0]],A="?"==n.charAt(0)&&a||"^"==n.charAt(0)&&!a;A&&i.push(this._compileCSSRule(t,r))}else i.push(/^@/.test(n)?[n," {\n",this._compileCSSRule(t,r),"}"].join(""):this._compileCSSRule(t+(0==n.indexOf(":")?"":" ")+n,r));else{var o=Bricks.DOM.normalizeCSSProperty(n,r);s.push("    ",Bricks.String.uncamelize(o[0]),": ",o[1],";\n")}}return(t?[t," {\n",s.join(""),"}"].join(""):"")+i.join("")},_applyTemplate:function(t){return t?(this._3q_0[t]||(this._3q_0[t]=Bricks.String.compile(t)),this._3q_0[t].call(this)):""}}),Bricks.DOM.getSize=function(t){return t=Bricks.DOM.getEl(t),[t.offsetWidth,t.offsetHeight]},Bricks.DOM.classNameExists=function(t,e){if(t=Bricks.DOM.getEl(t),e=Bricks.String.trim(e),t.classList)return t.classList.contains(e);var i="string"==typeof t.className?t.className:t.getAttribute("class");return new RegExp("(^|\\s)"+e+"(\\s|$)","").test(i)},Bricks.DOM.addClassName=function(t,e){t.classList?t.classList.add(e):Bricks.DOM.classNameExists(t,e)||(t=Bricks.DOM.getEl(t),"string"==typeof t.className?t.className+=" "+e:t.setAttribute("class",t.getAttribute("class")+" "+e))},Bricks.DOM.toggleClassName=function(t,e,i){return arguments.length<3&&(i=!Bricks.DOM.classNameExists(t,e)),i?Bricks.DOM.addClassName(t,e):Bricks.DOM.removeClassName(t,e)},Bricks.DOM.remove=function(t){t=Bricks.DOM.getEl(t),t.parentNode&&t.parentNode.removeChild(t)},Bricks.DOM.isAncestor=function(t,e){if(t=Bricks.DOM.getEl(t),e=Bricks.DOM.getEl(e),t.contains)return t.contains(e);if(t.compareDocumentPosition)return Boolean(16&t.compareDocumentPosition(e));for(;e;){if(t==e)return!0;e=e.parentNode}return!1},Bricks.Widget=Bricks.AbstractWidget.inherit({namespace:"",liveOn:function(t,e,i,s){t=Bricks.DOM.getEl(t),this.hasOwnProperty("_3j_0")||(this._3j_0={}),this._3j_0[e]||(this._3j_0[e]=[]),this._3j_0[e].push([t,i,s])},liveUn:function(t,e,i,s){if(t=Bricks.DOM.getEl(t),this.hasOwnProperty("_3j_0")&&this._3j_0[e])for(var n=this._3j_0[e],r=0;r<n.length;r++)n[r][0]==t&&n[r][1]==i&&n[r][2]==s&&(n.splice(r,1),r--)},_initComponent:function(){if(Bricks.Widget.superclass._initComponent.apply(this,arguments),this._el=this.namespace?this._doc.createElementNS(this.namespace,this.tagName):this._doc.createElement(this.tagName),this.className){var t=this._getClassNames();this.namespace?this._el.setAttribute("class",t):this._el.className=t}this.html&&(this._el.innerHTML=this._applyTemplate(this.html)),this._renderTo&&this._renderTo.appendChild(this._el)},destroy:function(){Bricks.Widget.superclass.destroy.apply(this,arguments),Bricks.DOM.remove(this._getEl())},getEl:function(){return this._el},_getEl:function(t,e){return this._3j_1=this._3j_1||{},t?((!this._3j_1[t]||e)&&(this._3j_1[t]=this._el.querySelector("."+t)),this._3j_1[t]):this._el},_classNameExists:function(t,e){return 1==arguments.length&&(e=t,t=""),Bricks.DOM.classNameExists(this._getEl(t),e)},_addClassName:function(t,e){return 1==arguments.length&&(e=t,t=""),Bricks.DOM.addClassName(this._getEl(t),e)},_removeClassName:function(t,e){return 1==arguments.length&&(e=t,t=""),Bricks.DOM.removeClassName(this._getEl(t),e)},_toggleClassName:function(t,e,i){return(1==arguments.length||2==arguments.length&&"string"!=typeof e)&&(i=e,e=t,t=""),Bricks.DOM.toggleClassName(this._getEl(t),e,i)},_on:function(t,e,i){arguments.length<3&&(i=e,e=t,t=""),t=t||"",Bricks.Widget.superclass._on.call(this,"string"==typeof t?this._getEl(t):t,e,i)},_un:function(t,e,i){arguments.length<3&&(i=e,e=t,t=""),t=t||"",Bricks.Widget.superclass._un.call(this,"string"==typeof t?this._getEl(t):t,e,i)},_getElPos:function(t){return Bricks.DOM.getPos(this._getEl(t))},_getElSize:function(t){return Bricks.DOM.getSize(this._getEl(t))},_setStyle:function(t,e){1==arguments.length&&(e=t,t=""),Bricks.DOM.setStyle(this._getEl(t),e)},_getEls:function(t){for(var e=this._el.querySelectorAll("."+t),i=[],s=0;s<e.length;s++)i.push(e[s]);return i},_fireEvent:function(t,e){if(Bricks.Widget.superclass._fireEvent.apply(this,arguments))for(var i=Bricks.getPrototypeChain(this,"_3j_0"),s=Bricks.mixin({},e,{type:t,target:this}),n=0;n<i.length;n++){var r=i[n]._3j_0[t];i[n]["*"]&&(r=r.concat(i[n]._3j_0["*"]));for(var a=r.length-1;a>=0;a--)if(Bricks.DOM.isAncestor(r[a][0],this._el))try{if(r[a][1].call(r[a][2],s)===!1)return!1}catch(A){this._handleListenerError(A)}}return!0}}),Bricks.range=function(t,e){arguments.length<2&&(e=t||0,t=0);for(var i=[],s=t;t+e>s;s++)i.push(s);return i},Bricks.Function.bind=function(t,e){var i=[].slice.call(arguments,2);return function(){return t.apply(e||this,i.concat([].slice.call(arguments,0)))}},Rzlzh.Widget=Bricks.Widget.inherit({_initComponent:function(){Rzlzh.Widget.superclass._initComponent.apply(this,arguments),this._getEl()._33_0=this,this._childs=[]},destroy:function(){this._childs.forEach(function(t){t.destroy()}),Rzlzh.Widget.superclass.destroy.apply(this,arguments)},_getChild:function(t){return this._getChilds(t)[0]},_getChilds:function(t){return this._getEls(t).map(function(t){return t._33_0}).filter(Boolean)},_appendHTML:function(t,e){return 1==arguments.length&&(e=t,t=""),this._insertHTML(t,"beforeend",e)},_prependHTML:function(t,e){return 1==arguments.length&&(e=t,t=""),this._insertHTML(t,"afterbegin",e)},_replaceHTML:function(t,e){1==arguments.length&&(e=t,t="");var i=this._getEl(t);return this._childs=this._childs.filter(function(t){return i.contains(t.getEl())?(t.destroy(),!1):!0}),i.innerHTML=this._compileJSON(e),this._renderChilds()},_insertHTML:function(t,e,i){return this._getEl(t).insertAdjacentHTML(e,this._compileJSON(i)),this._renderChilds()},_compileJSON:function(t){if("boolean"==typeof t)return"";if("string"==typeof t)return Bricks.String.escapeHTML(t);if(Bricks.isArray(t))return t.map(this._compileJSON,this).join("");if(t instanceof Rzlzh.Widget){var e="_33_1"+Math.random().toString().substr(2);return t._33_2=e,this._childs.push(t),'<span class="'+e+'"></span>'}if(t&&t.constructor==Object){var i="div",s=[],n="";Object.keys(t).forEach(function(e){var r=t[e];"tagName"==e?i=r:"content"==e?n=r:(e="className"==e?"class":Bricks.String.escapeHTML(e),s.push(e+'="'+Bricks.String.escapeHTML(r)+'"'))});var r=["<",i," ",s.join(" "),">"];return/^(br|col|embed|hr|img|input|link|meta|param|wbr)$/i.test(i)||r.push(this._compileJSON(n),"</",i,">"),r.join("")}return[t].join("")},_renderChilds:function(){var t=[];return this._childs.forEach(function(e){if(e._33_2){var i=this._getEls(e._33_2)[0];delete e._33_2,i.parentNode.insertBefore(e.getEl(),i),Bricks.DOM.remove(i),t.push(e)}},this),t},_zen:function(t,e,i,s){if("function"!=typeof e){var n=e;e=function(){return n}}s=s||t;var r=Bricks.isArray(t)?t:t.split(">").map(Bricks.String.trim);if(r[0].match(/^([a-z0-9]*)((?:\.[-_a-z0-9]+)*)((?:\[[-a-z0-9]+=[^\]]*])*)(?:\*(\d+))?$/i)){var a=RegExp.$1||"div",A=RegExp.$2||"",o=RegExp.$3||"",c=Number(RegExp.$4||1),l={tagName:a,className:A.replace(/\./g," ")};return o&&o.match(/\[[-a-z0-9]+=[^\]]*]/g).forEach(function(t){var e=t.substr(1,t.length-2).split("=");l[e[0]]=e[1]}),Bricks.range(c).map(function(t){return Bricks.mixin({content:r.length>1?this._zen(r.slice(1),Bricks.Function.bind(e,i,t)):e.call(i,t)},l)},this)}throw new TypeError("Invalid selector "+s)}}),Bricks.QueryString={},Bricks.QueryString.stringify=function(t){var e=encodeURIComponent,i=[];for(var s in t)if(t.hasOwnProperty(s)){var n=t[s];if(Bricks.isArray(n))for(var r=0;r<n.length;r++)i.push(e(s)+"="+e(String(n[r])));else i.push(e(s)+"="+e(String(n)))}return i.join("&")},Bricks.JSON={},Bricks.JSON.parse=function(t){return window.JSON?JSON.parse(t):new Function("return "+t)()},Bricks.Remote=Bricks.Component.inherit({getParams:{},postParams:{},headers:{},contentType:"application/x-www-form-urlencoded",_initComponent:function(){Bricks.Remote.superclass._initComponent.apply(this,arguments),this._getParams=this._grabProtoProps("getParams"),this._postParams=this._grabProtoProps("postParams"),this._headers=this._grabProtoProps("headers")},setGetParam:function(t,e){this._getParams[t]=e},setPostParam:function(t,e){this._postParams[t]=e},setHeader:function(t,e){this._headers[t]=e},request:function(t,e,i,s,n,r,a){var A=Bricks.QueryString.stringify(Bricks.mixin({},this._getParams,i||{}));A&&(e+=(e.indexOf("?")>-1?"&":"?")+A),n=Bricks.mixin({},n,this._headers);var o=this._createXHRObject();o.open(t,e,!0);for(var c in n)n.hasOwnProperty(c)&&o.setRequestHeader(c,n[c]);var l=this;o.onreadystatechange=function(){4==o.readyState&&(o.onreadystatechange=null,200==o.status?r.call(a,l._parseResponse(o),o):r.call(a,null,o))},"POST"==t||"PUT"==t?(o.setRequestHeader("Content-Type",this.contentType),o.send(this._encodePostParams(s))):o.send(null)},get:function(t,e,i,s){return this.request("GET",t,e,null,{},i,s)},post:function(t,e,i,s){return this.request("POST",t,null,e,{},i,s)},_parseResponse:function(t){var e=t.getResponseHeader("Content-Type")||"";return 0==e.indexOf("application/json")?Bricks.JSON.parse(t.responseText,function(t,e){return"string"==typeof e&&/^\d\d\d\d-\d\d-\d\dT\d\d:\d\d:\d\d.\d\d\dZ$/.test(e)?new Date(e):e}):t.responseText},_encodePostParams:function(t){return Bricks.QueryString.stringify(t)},_grabProtoProps:function(t){var e=Bricks.getPrototypeChain(this,t).reverse().map(function(e){return e[t]});return e.unshift({}),Bricks.mixin.apply(Bricks,e)},_createXHRObject:function(){return window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Msxml2.XMLHTTP")}}),Bricks.DOM.on=function(t,e,i,s){t=Bricks.DOM.getEl(t),Bricks.DOM._eventsController||(Bricks.DOM._eventsController=new Bricks.EventsController),Bricks.DOM._eventsController.on(Bricks.DOM.getEl(t),e,i,s)},Bricks.DOM.un=function(t,e,i,s){Bricks.DOM._eventsController&&Bricks.DOM._eventsController.un(Bricks.DOM.getEl(t),e,i,s)},Bricks.DOM.getParent=function(t,e,i,s){(!i||0>=i)&&(i=1e3);var n=Bricks.DOM.getEl(t);if(s||(n=n.parentNode),!e)return n;var r=Bricks.DOM.createSelectorFilter(e),a=0;do if(r(n))return n;while((n=n.parentNode)&&++a<i);return null},Bricks.Event={},Bricks.Event.isLeftClick=function(t){return t.which&&1==t.which||t.button&&1==t.button};var Deck={cardSize:[71,96],CLUB:1,DIAMOND:2,HEART:3,SPADE:4,abc:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789*-".split(""),isTouch:"ontouchstart"in document,unionElsRects:function(t,e){return this.unionRects(Bricks.DOM.getPos(t),Bricks.DOM.getSize(t),Bricks.DOM.getPos(e),Bricks.DOM.getSize(e))},unionRects:function(t,e,i,s){var n=[t[1],t[0]+e[0],t[1]+e[1],t[0]],r=[i[1],i[0]+s[0],i[1]+s[1],i[0]],a=[Math.min(n[0],r[0]),Math.max(n[1],r[1]),Math.max(n[2],r[2]),Math.min(n[3],r[3])];return[a[1]-a[3],a[2]-a[0]]},_clickListeners:[],_isTouch:!1,onClick:function(t,e,i){var s=0,n=function(t){"touchstart"===t.type&&(this._isTouch=!0),("mousedown"!==t.type||!this._isTouch&&Bricks.Event.isLeftClick(t))&&(s=new Date)},r=function(n){if("mouseup"!==n.type||!this._isTouch){if(new Date-s<2e3){var r=!0;if("touchend"===n.type){var a=n.changedTouches[0],A=t.ownerDocument||document,o=A.elementFromPoint(a.pageX,a.pageY);o&&o!==t&&!Bricks.DOM.isAncestor(t,o)&&(r=!1)}r&&e.call(i,n)}s=0}};Bricks.DOM.on(t,"mousedown,touchstart",n,this),Bricks.DOM.on(t,"mouseup,touchend",r,this),this._clickListeners.push([t,e,i,n,r])},unClick:function(t,e,i){for(var s=0;s<this._clickListeners.length;s++){var n=this._clickListeners[s];if(n[0]===t&&n[1]===e&&n[2]===i){Bricks.DOM.un(t,"mousedown,touchstart",n[3],this),Bricks.DOM.un(t,"mouseup,touchend",n[4],this),this._clickListeners.splice(s,1);break}}},_dblclickListeners:[],onDblClick:function(t,e,i){var s=0,n=function(t){var n=new Date;s&&300>n-s?(s=0,e.call(i,t)):s=n};this.onClick(t,n),this._dblclickListeners.push([t,e,i,n])},unDblClick:function(t,e,i){for(var s=0;s<this._dblclickListeners.length;s++){var n=this._dblclickListeners[s];if(n[0]===t&&n[1]===e&&n[2]===i){this.unClick(t,n[3]),this._dblclickListeners.splice(s,1);break}}}};Bricks.DOM.getDocumentSize=function(t){t=t||document;var e=Bricks.DOM.getViewportSize(t),i=Bricks.DOM.getRootElement(t);return[Math.max(i.scrollWidth,e[0]),Math.max(i.scrollHeight,e[1])]},Bricks.Event.getTarget=function(t,e,i){var s=t.target||t.srcElement;return arguments.length>1?Bricks.DOM.getParent(s,e,i,!0):s},Bricks.Images=Bricks.create({constructor:function(){this._images={}},get:function(t,e){return 1==arguments.length?this._images[t]||"":t.replace("%s",this._images[e]||"")},add:function(t,e){this._images[t]=e}}),Rzlzh.Images=new Bricks.Images,Rzlzh.Images.add("layer__close.png","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAARAQAAAAATFnpXAAAAAnRSTlMAAHaTzTgAAAA6SURBVHgBJYu1AYAAEAMPr5ANsgbdD4aOTIf7N/FQxVAX0AouGxkGsAt0QLlANjnr8HwYfNfKf+//AQWPDxaBIVBRAAAAAElFTkSuQmCC"),Rzlzh.Layer=Rzlzh.Widget.inherit({closable:!0,pageMode:!1,destroyOnHide:!1,noPaddings:!1,className:"_2x",css:{"._2x":{position:"absolute",left:"0",top:"0","z-index":"30",display:"none"},"._2x_0":{background:"#000",opacity:"0.7"},"._2x_1":{position:"fixed",left:"0",top:"0",width:"100%",height:"100%",overflow:"auto","-webkit-overflow-scrolling":"touch"},"._2x_2":{position:"absolute",padding:"35px 0 20px 0"},"._2x_3":{position:"relative",padding:"20px",width:"300px","float":"left",cursor:"default",background:"#fff","@media (max-width: 320px)":{padding:"20px 10px"}},"._2x_4":{"._2x_3":{padding:"0",width:"380px",background:"#f0f0f0","@media (max-width: 340px)":{width:"320px"},"@media (min-width: 341px) and (max-width: 380px)":{width:"100%"},"@media (min-width: 740px)":{width:"740px"},"@media (min-width: 1100px)":{width:"1100px"}}},"._2x_5":{"._2x_1":{cursor:"pointer"},"._2x_6":{position:"absolute",right:"10px",top:"10px",width:"17px",height:"17px",background:Rzlzh.Images.get("url(%s)","layer__close.png"),opacity:"0.6"},"._2x_7":{opacity:"1"}},"._2x_8":{display:"block"},"._2x_9":{"._2x_3":{padding:"0"}}},_initComponent:function(){this.renderTo=document.body,Rzlzh.Layer.superclass._initComponent.apply(this,arguments),this._appendHTML([this._zen("._2x_0"),this._zen("._2x_1",[this._zen("._2x_2",[this._zen("._2x_6"),this._zen("._2x_3")])])]),this.closable&&this._addClassName("_2x_5"),this.pageMode&&this._addClassName("_2x_4"),this.noPaddings&&this._addClassName("_2x_9"),this._visible=!1,this._on(window,"resize",this._2x_a),this._on("mouseover",this._2x_b),this._on("mouseout",this._2x_c),Deck.onClick(this._getEl(),this._2x_d,this)},destroy:function(){this._visible&&this.hide(),Rzlzh.Layer.superclass.destroy.apply(this,arguments),Deck.unClick(this._getEl(),this._2x_d,this)},setContent:function(t){this._replaceHTML("_2x_3",t),this._updateLayout()},getContentEl:function(){return this._getEl("_2x_3")},show:function(){this._visible||(this._visible=!0,this._addClassName("_2x_8"),this._updateLayout(),this._fireEvent("show"))},hide:function(){this._visible&&(this._visible=!1,this._removeClassName("_2x_8"),this._fireEvent("hide")),this.destroyOnHide&&this.destroy()},_updateLayout:function(){var t=Bricks.DOM.getViewportSize(this._doc),e=Bricks.DOM.getDocumentSize(this._doc),i=this._getElSize("_2x_2");this._setStyle("_2x_0",{width:e[0]+"px",height:e[1]+"px"}),this._setStyle("_2x_2",{"margin-left":Math.max(0,(t[0]-i[0])/2)+"px","margin-top":Math.max(0,(t[1]-i[1])/2)+"px"})},_2x_a:function(){this._updateLayout()},_2x_d:function(t){this.closable&&!Bricks.Event.getTarget(t,"._2x_3")&&this.hide()},_2x_b:function(t){Bricks.Event.getTarget(t,"._2x_3")||this._addClassName("_2x_6","_2x_7")},_2x_c:function(){this._removeClassName("_2x_6","_2x_7")}}),Rzlzh.Images.add("fb.png","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAMAAABHPGVmAAAAmVBMVEUEUNr///+Xtu9Ng+RolugJVNrM3PfV4vgqat+aufCFqu1WieaUtO8YXt1KgeSdu/AzcODt8vz8/P7G1/YGUtqmwfE2c+GIrO19pOtcjecSWtyApuzJ2ff5+v6Rsu7q8Pt3oOr2+P16ousVXNzn7vu4zfQeYt0bYN1ikeeOsO67z/SCqOxTh+Xw9PwkZt7P3vjz9v2gvfHS4PgJUjsQAAAA3UlEQVR4Xu3TV24DMQxFUVHTq3vvvaXvf3E2bEhwopmPAJQ+jHc3cECCFP8PIYQQQggF3iTphJ0k9ca2iLixIlV75x9sGMMZ/W7Jb8zpbyN2wyOjgtvoRobxI7jzyUiyI6GJvHEb+ydgmvsyImpvuJFME4vHAGX0KbhbayRTl9BkR3L96YGwVkMhW2GvnkJaLhCys66Uqgs5kUENIl0gR07kVIPEnIisNlrCAXJ2gVz4X8SsdIEUrMhH/9aXBr7795qCv3eNDBT+WggQIECAAAECBAgQIPwhhBBCCKEriS4RCQ6tNG4AAAAASUVORK5CYII="),Rzlzh.Images.add("ok.png","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAMAAABHPGVmAAAB+FBMVEX/iTH/////izX/jDb/qmv/8un//Pr/zqr//v7/9u//y6T/jjr/uob/5tT/mEz/9e7/iTL/qWr/+vb/oVv/q23//fv/k0L/xZr/ijP/mEv/6dn/38j/2r//8+r/4cz/7uL/qWn/+/j/7eD/uof/kkH/oVz/ijT/l0r/lET/p2b/lUb/8uj/7uH/+vf//v3/3cT/+/n/6tr/kUD/lUf/wpX/7+P/nlb/+PP/z6z/mU3/z6v//fz/vYz/07P/1bb/m1L/6Nj/yqL/2Lv/nFL/3sX/4cv/qGf/8OX/yaL/8+v/zaf/r3T/wJL/pWL/17n/4Mn/x53/693/jDf/oFn/rnP/7N7/s3r/9/L/+PT/pGH/rnH/69z/m1D/o1//k0P/7N3/1rj/xpv/t4L/kD7/uYX/0rH/t4H/rnL/yKD/07L/4sz/sXf/9vD/5ND/zan/+PL/5tP/8eb/0K7/jjn/wZP/w5b/vIr/lEX/jTj/x57/48//nVX/2b7/pGD/xJj/ol3/vY3/uIP/kT//yJ//sHX/uoj/wJH/tHz/jzv/lkj/u4n/y6X/2b3/jzz/yaH/n1f/n1j/1bf/+fX/snj/mU7/mk7/mk//sXj/m1H/+fb/jz3/9Oz/1rf/9O3/jTn/pmT/q2z/3MP/0K3/3ML/28D/yqP/38f/zaj0umphAAACnUlEQVR4Ae3Yg3rtWhiF4TGWbdS2t23bdXts27Zt+zK724nlw/Xn0cl7A1+SqSRwuVwul8vlAh45/mJk5/2P3bMFjvF1BGi0PR6FE7IPstK9t6YgbmueNS6sQlbLPtbbloCoh9nIhOi9xNhYVwvEtGZode97f/fde2jthZgbaRwbxIbCyQC1HbdAyK4pakVY58LUHoWQIrV3UHbO3Es3hByk0udBhZuoHYCIqHlat6PS5hkqN0PEFWoDqNJO5RBEpKnMo9pOKrdBRI6KH9VOUtkPET9QyadQZT+V3RAxTC2LKhNUzkJEKkzlZ1QapeaDjLvM89qOMk/cTAcvZCw22NmD1M5DiNdP7UQW2suHafRAyms0QofvGMGbL1yco3EfxAzF2VhgO+QkHmBD/ZC0kGEDd0LWSpi1Qs9D2lg7q3Xm4IAvLrFsx1NfQ5K31QNtIdIW4LqHvp2N2hvcDAHfB3s5GX8CRstYovVJGKnTc+TTz6Bpz3JDb8yDOs91c0PyLTRpkMaJ/suoku6iEUGTXmLJqVeuwNqyt40lx9CkV1lp/Pzrb1z95O3gJlZ6F016L8y/dQbNGp3h3wiieR/EQ/wLyX6I+PAC/4w/NgQpKx1TbKAv5oWk4eI2Vst8lIa87Nauj6ntuRa8GoVDPu0kQ2SvD87ZNU4tMwqnfDZOK3Mczvjcz7JMD5yw7GelyR5nG6aShrQvO1lDfo4dOEXrK1ozspUj39C6NnzUmcqR72jdMILL07QCOUj5MVDZALzlSugsZBTCtC6tYoPnJ1r5QYi4SGupAM3zC61piGgvNQZgeX6lkZT927VJNzRPB7U+0e/SpGkYnoNUipDxm7qPBKp5f+e6ox4IWTj0x+wQ6vgip8+k4HK5XC6X6//qOjJiVD8PM0NNAAAAAElFTkSuQmCC"),Rzlzh.Images.add("twitter.png","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAMAAABHPGVmAAAA9lBMVEUErtr////2/P0YtN0/weJKxOQqut8Grtpozujt+fw5v+Hn9/vk9vsJr9obtd35/f7P7/gzveAPsdvY8vmj4fHG7Pb8/v7V8fhNxeQ2vuGp4/J30+onud9QxuWv5fNlzeim4vGO2u7z+/3q+Pvh9fpCwuO76fSg4PFTx+Uht94SstyU3O+I2O2R2+4MsNt00urb8/lizOfM7vfw+vxHw+RWyOa15/Q8wOLS8Piy5vMett1EwuPe9Pqs5PJx0eqa3vCL2e6+6vWF1+161OtZyeZrz+lfy+du0OmX3e/A6vXD6/aA1uwtu+DJ7fckuN6C1uwVs9x91etgoMc9AAABtklEQVR4Ae3PA6LkSgAF0HvjtG3b/WyP+f/sfzHPRqamOhnW2cGBoiiKoiiKoig/JPTamOa3quUTBGYzwWsNBMWJ81rJRkAcXtMmCIqZ4zULQYm1eaNXLowQiAYf6C1H4bsCH1sawGf2Ep9qwl/LfM4YfrLTfNYuFpdaW5vhwjqft41LKcjrhsnOLs4l+DwtCkBvtj5DWoTnNAMw+ZId2OUWa5A3yPFcZIQaX3JkZMm2Dnl2hBf6sRy9aCFIe/Vxg1ci9KIVIK+Qo4i8BQyTkBA1k0A1TgFH1pss/4OEaIdc6ccpZvUdpJgUl4lBzlsK0vaTkLVPMa4OabpGMV8g7xMF9SHLKrkUNA/+QRqQpWcoKGxD3k69tkoB77GgYr25sUdvJvww+0APeRu+mNJDHRJ2HR0PDV2+LGFDQizM44Mh7swSfFnOgJSQRnLvcP0rLiXT9HACSV2Nl+IrpXEpQi9ZG7I2XYrZGkFeJU0ReR2LSDX4fcf/Y0GDCL1p32wsLDVv00OvAl+k5mG+YLsL/5iZFp/oTCz4K2ocZNK84WYPnQqCkSpWHSdULOr4GyiKoiiKoijKGZ0dIPQJNXUEAAAAAElFTkSuQmCC"),Rzlzh.Images.add("vk.png","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAMAAABHPGVmAAAAyVBMVEUEUNr///8eYt3S4Pg2c+GaufCCqOxolugbYN0MVtvY5PmUtO8GUtr8/P7z9v0YXt0wbuBHf+QSWtz2+P2IrO21y/TG1/a+0fV3oOqRsu7e6PpNg+Qqat8PWNs8d+JrmOlZi+bJ2ffM3PemwfHn7vtcjedumukJVNplk+jD1fagvfGpw/KsxfLh6vrV4vgVXNx0nupfj+f5+v4/eeLq8Pvb5vm4zfSApuydu/Dw9PxQheXt8vwhZN5KgeTA0/VCe+MzcOBTh+WLru4Vob1UAAABN0lEQVR4Xu3WNXYEQQxFUVU1Mw3zGJmZYf+L8hwnrT62s/oV6W3gZvoik0mSJEmSJEnS3tavTjzP84OpNof01L/Fo3MUwmuSGoXwTksLiLoJLSDqcN8CogIbiGMDUdoosvvD6if/WfGmAGRTMeFIgEHolSNLEJLuMOQShNCAIdcoxGmNJgIhUdMixwRCDhjtgpAqb40jQiCziz6Dz+b4PXFCQiPZOCI0klc2Nl5N/AKF8K7urSzjOrSAqNvCAqLuUrN7ot1N78HDo+KtMFe43ubIGoMQdRQNQl4yhqxACMUM8VHIkCEJCnnDI92HpQdCKsVaYpDa4cgCgrgdI0+NI+FiNFSdPAsHMistIAnhkXiOR2JNcMQJCY6MI0Ij/Q/w35UN/BmZ6dP7q69gtyRYkiRJkiRJkvQNrLcat5kI8cgAAAAASUVORK5CYII="),Rzlzh.LayerAuth=Rzlzh.Layer.inherit({welcomeText:"",css:{"._2l_0":{"margin-bottom":"20px"},"._2l_1":{"margin-left":"-20px","text-align":"center"},"._2l_2":{width:"100px","margin-left":"20px","margin-bottom":"20px",display:"inline-block",cursor:"pointer","text-align":"left",opacity:"0.7",":hover":{opacity:"1"}},"._2l_3":{width:"100px",height:"100px","margin-bottom":"5px",display:"block"},"._2l_4 ._2l_3":{background:Rzlzh.Images.get("url(%s)","vk.png")},"._2l_5 ._2l_3":{background:Rzlzh.Images.get("url(%s)","ok.png")},"._2l_6 ._2l_3":{background:Rzlzh.Images.get("url(%s)","twitter.png")},"._2l_7 ._2l_3":{background:Rzlzh.Images.get("url(%s)","fb.png")}},_initComponent:function(){Rzlzh.LayerAuth.superclass._initComponent.apply(this,arguments),this.setContent([this.welcomeText&&this._zen("._2l_0",this.welcomeText),this._zen("._2l_0","Вы можете войти на сайт с помощью одной из социальных сетей."),this._zen("._2l_1",[this._zen("span._2l_2._2l_4[data-provider=vk]",[this._zen("._2l_3"),"ВКонтакте"]),this._zen("span._2l_2._2l_5[data-provider=ok]",[this._zen("._2l_3"),"Одноклассники"]),this._zen("span._2l_2._2l_6[data-provider=twitter]",[this._zen("._2l_3"),"Twitter"]),this._zen("span._2l_2._2l_7[data-provider=fb]",[this._zen("._2l_3"),"Facebook"])])]),this._authCallback=null,this._authCallbackCtx=null,this._on("_2l_1","click",this._2l_8)
},auth:function(t,e,i){this._authCallback=e,this._authCallbackCtx=i;var s=this;window.authCallback=function(){s._resolveCallback(!0),s.hide()},t?this._authThrough(t):this.show()},hide:function(){Rzlzh.LayerAuth.superclass.hide.apply(this,arguments),this._resolveCallback(!1),window.authCallback=null,this.destroy()},_authThrough:function(t){var e={vk:"/auth/vk",ok:"/auth/ok",twitter:"/auth/twitter",fb:"/auth/fb"}[t];if(e){var i=(screen.availWidth-500)/2,s=(screen.availHeight-500)/2;window.open(e,"razlozhi_auth","scrollbars=yes,width=500,height=500,left="+i+",top="+s)}},_resolveCallback:function(t){this._authCallback&&(this._authCallback.call(this._authCallbackCtx,t),this._authCallback=null,this._authCallbackCtx=null)},_2l_8:function(t){var e=Bricks.Event.getTarget(t,"._2l_2");e&&this._authThrough(e.getAttribute("data-provider"))}}),Bricks.Cookie={},Bricks.Cookie.createCookie=function(t,e,i,s){var n="";if(i){var r=new Date;r.setTime(r.getTime()+24*i*60*60*1e3),n=";expires="+r.toGMTString()}var a=s?";domain="+s:"";document.cookie=t+"="+e+n+a+";path=/"},Rzlzh.Remote=Bricks.Remote.inherit({headers:{"X-Requested-With":"XMLHttpRequest"},log:function(t,e,i,s,n){var r={path:t,fname:e,content:i};this.request("PUT","/utils/log",{},r,{},"",s,n)},apps:function(t,e){this.request("GET","/apps",{},{},{},"",t,e)},userinfo:function(t,e,i,s){this.request("GET",t,{user:e},{},{},"",i,s)},addComment:function(t,e,i,s){this.request("POST","/comments",{},{resource:t,text:e},{},"Войдите на сайт, чтобы оставить комментарий.",i,s)},favorites:function(t,e){this.request("GET","/favorites",{},{},{},"",t,e)},markAsFavorite:function(t,e,i,s){this.request(e?"PUT":"DELETE","/favorites/"+t,{},{},{},"Войдите на сайт, чтобы добавить игру в Любимые игры.",i,s)},changeTheme:function(t,e,i){this.request("POST","/theme",{},{theme:t},{},"Войдите на сайт, чтобы сменить рубашку карт.",e,i)},saveResult:function(t,e,i,s,n){var r=Math.random().toString().slice(2),a=String(this._fnv32([e,i,r].join(":"))).slice(0,9);Bricks.Cookie.createCookie("sid",a.length+r+a);var A={game:e,scores:i};this.request("POST","/results/"+t,{},A,{},"",s,n)},saveInfinitySpiderResult:function(t,e,i){this.saveResult("spiderweb","spider-millennium",t,function(t){e.call(i,t&&t.bestResult)},this)},loadPage:function(t,e,i){this.request("GET",t,{layer:1},{},{},"",e,i)},request:function(t,e,i,s,n,r,a,A){Rzlzh.Remote.superclass.request.call(this,t,e,i,s,n,function(o,c){if(403===c.status){var l=new Rzlzh.LayerAuth({welcomeText:r});l.auth(null,function(l){l?this.request(t,e,i,s,n,r,a,A):a&&a.call(A,o,c)},this)}else a&&a.call(A,o,c)},this)},_fnv32:function(t){for(var e=2166136261,i=0,s=t.length;s>i;++i)e^=t.charCodeAt(i),e+=(e<<1)+(e<<4)+(e<<7)+(e<<8)+(e<<24);return e>>>0}}),Bricks.String.format=function(t){var e=[].slice.call(arguments,1);return t.replace(/(\\)?(\$\{(\d+)\})/g,function(t,i,s,n){return i?s:[e[n]].join("")})},Rzlzh.Images.add("favorite_off.svg","data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIxLjEuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCAyNCAyNCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMjQgMjQ7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4KCS5zdDB7ZmlsbDojRkZGRkZGO30KPC9zdHlsZT4KPHBhdGggY2xhc3M9InN0MCIgZD0iTTEyLDQuN2wxLjksNGwwLjUsMWwxLjEsMC4ybDQuNCwwLjdsLTMuMywzLjRsLTAuNywwLjdsMC4yLDFsMC44LDQuNkwxMywxOC4xbC0xLTAuNWwtMSwwLjVsLTMuOCwyLjFMOCwxNS42CglsMC4yLTFsLTAuNy0wLjdsLTMuMy0zLjRsNC40LTAuN2wxLjEtMC4ybDAuNS0xTDEyLDQuNyBNMTIsMEw4LjMsNy45TDAsOS4ybDYsNi4xTDQuNiwyNGw3LjQtNC4xbDcuNCw0LjFMMTgsMTUuM2w2LTYuMWwtOC4zLTEuMwoJTDEyLDBMMTIsMHoiLz4KPC9zdmc+Cg=="),Rzlzh.Images.add("favorite_on.svg","data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIxLjEuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCAyNCAyNCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMjQgMjQ7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4KCS5zdDB7ZmlsbDp1cmwoI1NWR0lEXzFfKTt9Cjwvc3R5bGU+CjxsaW5lYXJHcmFkaWVudCBpZD0iU1ZHSURfMV8iIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIiB4MT0iMjEuMjQwNiIgeTE9IjI0LjkzNjUiIHgyPSI3LjI2NDgiIHkyPSI4LjE0OTgiPgoJPHN0b3AgIG9mZnNldD0iOC4zMzMzMzRlLTAyIiBzdHlsZT0ic3RvcC1jb2xvcjojRkZFMzU3Ii8+Cgk8c3RvcCAgb2Zmc2V0PSIwLjk3MjIiIHN0eWxlPSJzdG9wLWNvbG9yOiNFRkIxMUYiLz4KPC9saW5lYXJHcmFkaWVudD4KPHBvbHlnb24gY2xhc3M9InN0MCIgcG9pbnRzPSIxMiwwIDguMyw3LjkgMCw5LjIgNiwxNS4zIDQuNiwyNCAxMiwxOS45IDE5LjQsMjQgMTgsMTUuMyAyNCw5LjIgMTUuNyw3LjkgMTIsMCAiLz4KPC9zdmc+Cg==");var Games={};Games.Images=new Bricks.Images,Games.Images.add("loader.gif","data:image/gif;base64,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"),Rzlzh.FavoriteCtrl=Rzlzh.Widget.inherit({appId:"",user:null,tagName:"span",className:"_2p",css:{"._2p":{width:"30px",height:"30px","margin-top":"-4px",display:"inline-block",cursor:"pointer","vertical-align":"middle",background:Rzlzh.Images.get("rgba(55, 55, 55, 0.5) url(%s) no-repeat center 4px","favorite_off.svg"),"background-size":"20px 20px","border-radius":"15px",":hover":{"background-color":"rgba(55, 55, 55, 0.8)"}},"._2p_0":{"background-image":Rzlzh.Images.get("url(%s)","favorite_on.svg")},"._2p_1":{cursor:"default","background-image":Games.Images.get("url(%s)","loader.gif")}},_initComponent:function(){Rzlzh.FavoriteCtrl.superclass._initComponent.apply(this,arguments),this._remote=new Rzlzh.Remote,this._on("click",this._2p_2),this.user&&this.user.favorites&&this.user.favorites.indexOf(this.appId)>-1&&this.setChecked(!0)},setChecked:function(t){t?this._addClassName("_2p_0"):this._removeClassName("_2p_0"),this._getEl().setAttribute("title",Bricks.String.format(t?"Удалить из любимых игр":"Добавить в любимые игры"))},_2p_2:function(){if(!this._classNameExists("_2p_1")){var t=this._classNameExists("_2p_0"),e=Bricks.Function.defer(function(){this._addClassName("_2p_1")},300,this);this._remote.markAsFavorite(this.appId,!t,function(i){clearTimeout(e),this._removeClassName("_2p_1"),i&&i.success&&(this.setChecked(!t),t?this.user.favorites=this.user.favorites.filter(function(t){return t!==this.appId},this):this.user.favorites.unshift(this.appId))},this)}}}),Rzlzh.Images.add("arrow_left.svg","data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgNDYuNSA0Ni42Ij48c3R5bGU+LnN0MHtmaWxsOiMzNzM3Mzd9LnN0MXtmaWxsOiNmZmZ9PC9zdHlsZT48Y2lyY2xlIGNsYXNzPSJzdDAiIGN4PSIyMy4zIiBjeT0iMjMuMyIgcj0iMjMiLz48cGF0aCBjbGFzcz0ic3QxIiBkPSJNMTUuNCAyNGwuMi4yYy40LjQgMSAuNCAxLjQgMEwyNy4xIDE0Yy40LS40LjQtMSAwLTEuNGwtLjEtLjJjLS40LS40LTEtLjQtMS40IDBMMTUuNCAyMi42Yy0uNC40LS40IDEgMCAxLjR6Ii8+PHBhdGggY2xhc3M9InN0MSIgZD0iTTE1LjUgMjIuNGwtLjIuMmMtLjQuNC0uNCAxIDAgMS40bDEwLjIgMTAuMmMuNC40IDEgLjQgMS40IDBsLjItLjJjLjQtLjQuNC0xIDAtMS40TDE2LjkgMjIuNGMtLjMtLjQtMS0uNC0xLjQgMHoiLz48L3N2Zz4="),Rzlzh.Images.add("arrow_right.svg","data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgNDYuNSA0Ni42Ij48c3R5bGU+LnN0MHtmaWxsOiMzNzM3Mzd9LnN0MXtmaWxsOiNmZmZ9PC9zdHlsZT48Y2lyY2xlIGNsYXNzPSJzdDAiIGN4PSIyMy4zIiBjeT0iMjMuMyIgcj0iMjMiLz48cGF0aCBjbGFzcz0ic3QxIiBkPSJNMzEuMSAyNGwtLjEuMmMtLjQuNC0xIC40LTEuNCAwTDE5LjQgMTRjLS40LS40LS40LTEgMC0xLjRsLjItLjJjLjQtLjQgMS0uNCAxLjQgMGwxMC4yIDEwLjJjLjMuNC4zIDEtLjEgMS40eiIvPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0zMSAyMi40bC4yLjJjLjQuNC40IDEgMCAxLjRMMjAuOSAzNC4yYy0uNC40LTEgLjQtMS40IDBsLS4xLS4yYy0uNC0uNC0uNC0xIDAtMS40bDEwLjItMTAuMmMuMy0uNCAxLS40IDEuNCAweiIvPjwvc3ZnPg=="),Rzlzh.Images.add("close.svg","data:image/svg+xml;base64,PHN2ZyBpZD0i0KHQu9C+0LlfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMjcuMyAyNy4zIj48c3R5bGU+LnN0MHtmaWxsOiM3YzdjN2N9PC9zdHlsZT48ZyBpZD0iSWNvbi1DbG9zZSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzgxIDIzMSkiPjxwYXRoIGlkPSJGaWxsLTE2IiBjbGFzcz0ic3QwIiBkPSJNLTM3OS43LTIwMy43bC0xLjMtMS4zIDI2LTI2IDEuMyAxLjMtMjYgMjYiLz48cGF0aCBpZD0iRmlsbC0xNyIgY2xhc3M9InN0MCIgZD0iTS0zNTUtMjAzLjdsLTI2LTI2IDEuMy0xLjMgMjYgMjYtMS4zIDEuMyIvPjwvZz48L3N2Zz4="),Rzlzh.HeaderPopup=Rzlzh.Widget.inherit({header:"",iconCls:"",className:"_34",css:{"._34":{"font-family":"arial","font-size":"13px",position:"absolute","padding-top":"20px",width:"100%","margin-top":"-500px",overflow:"hidden",visibility:"hidden","box-shadow":"0 3px 3px 0 rgba(0, 0, 0, 0.6)",background:"#F0F0F0",transition:"margin-top 100ms linear, visibility 1ms linear 100ms"},"._34_0":{"font-size":"18px","margin-bottom":"20px","text-align":"center",color:"#383838"},"._34_1":{width:"1060px",margin:"0 auto","@media (max-width: 1099px)":{width:"700px"},"@media (max-width: 739px)":{width:"340px"}},"._34_2":{"margin-top":"0",visibility:"visible",transition:"margin-top 100ms linear"}},_initComponent:function(){Rzlzh.HeaderPopup.superclass._initComponent.apply(this,arguments),this._visible=!1,this._appendHTML([this.header&&this._zen("._34_0",this.header)]),Deck.onClick(this._doc,this._34_3,this)},destroy:function(){Deck.unClick(this._doc,this._34_3,this),Rzlzh.HeaderPopup.superclass.destroy.apply(this,arguments)},show:function(){this._visible=!0,this._addClassName("_34_2"),this._fireEvent("show")},hide:function(){this._visible=!1,this._removeClassName("_34_2"),this._fireEvent("hide")},_renderIcon:function(t){Bricks.DOM.getEls("!."+this.iconCls).appendChild(t.getEl())},_renderResponsiveContent:function(t){this._appendHTML(this._zen("._34_1",t))},_34_3:function(t){this._visible?Bricks.Event.getTarget(t,"._34")||this.hide():Bricks.Event.getTarget(t,"."+this.iconCls)&&this.show()}}),Rzlzh.Svg=Rzlzh.Widget.inherit({size:[100,100],viewBox:[0,0,100,100],className:"_3k",css:{"._3k":{display:"inline-block"}},_initComponent:function(){Rzlzh.Svg.superclass._initComponent.apply(this,arguments),this._appendHTML({tagName:"svg",xmlns:"http://www.w3.org/2000/svg",width:this.size[0],height:this.size[1],viewBox:this.viewBox.join(" "),preserveAspectRatio:"xMidYMid",content:this.getContent()}),this._setStyle({width:this.size[0]+"px",height:this.size[1]+"px"})},getContent:function(){return""}}),Rzlzh.SvgPath=Rzlzh.Svg.inherit({pathClassName:"_39_0",css:{"._39_0":{fill:"currentColor"}},getPath:function(){return""},getContent:function(){for(var t=Bricks.getPrototypeChain(this,"pathClassName"),e=[],i=0;i<t.length;i++)e.push(t[i].pathClassName);return{tagName:"path",d:this.getPath(),className:e.join(" ")}}}),Rzlzh.ThemesIcon=Rzlzh.SvgPath.inherit({size:[25,25],pathClassName:"_35_0",viewBox:[0,0,24,24],css:{"._35_0":{fill:"currentColor"}},getPath:function(){return"M22.2 2.8L12.1.1c-1-.3-2.1.3-2.3 1.3l-.5 1.8h5c1.5 0 2.7 1.2 2.7 2.7v14.2l.5.1c1 .3 2.1-.3 2.3-1.3l3.7-13.8c.3-1-.3-2-1.3-2.3zM13 5.2H2c-1.1 0-2 .9-2 2v15c0 .2 0 .3.1.5 0 .1.1.3.1.4.3.7 1 1.1 1.8 1.1h11c1.1 0 2-.9 2-2v-15c0-1.1-.9-2-2-2zm-12 2c0-.6.4-1 1-1h1.9L1 9.1V7.2zm0 3.3l4.3-4.3h4.6L1 15v-4.5zm13 11.7c0 .6-.4 1-1 1h-.9l1.9-1.9v.9zm0-2.3l-3.3 3.3H6.1l7.9-7.8v4.5zm0-5.9l-9.3 9.2H2c-.5 0-.9-.4-1-.9L13.9 9.5h.1V14zm0-5.9L1 20.9v-4.5L11.3 6.2H13c.6 0 1 .4 1 1v.9z"}}),Bricks.Function.debounce=function(t,e,i){var s;return function(){var n=arguments,r=this;clearTimeout(s),s=setTimeout(function(){t.apply(i||r,n)},e)}},Rzlzh.HorizontalScroll=Rzlzh.Widget.inherit({content:"",className:"_36",css:{"._36":{overflow:"hidden"},"._36_0":{"overflow-x":"scroll","-webkit-overflow-scrolling":"touch"},"._36_1":{position:"absolute",left:"-100px",top:"-100px",width:"50px",height:"50px",overflow:"scroll"}},_initComponent:function(){Rzlzh.HorizontalScroll.superclass._initComponent.apply(this,arguments),this._appendHTML([this._zen("._36_0",this.content),this._zen("._36_2")]);var t=this._doc.createElement("div");t.className="_36_1",this._doc.body.appendChild(t);var e=t.offsetHeight-t.clientHeight;this._doc.body.removeChild(t),this._setStyle("_36_2",{"margin-top":-e+"px"}),this._on("wheel",this._36_3)},_36_3:function(t){0===t.deltaX&&(t.preventDefault(),this._getEl("_36_0").scrollLeft+=t.deltaY)}}),Rzlzh.Images.add("theme-checker.png","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAAuCAMAAABgZ9sFAAABFFBMVEX///8AAADz9ff6+/zq7fHh5uv////////N1N3Z3+bGztjT2uH///////+7xdH8/f22wc7////////////////////////////////////19vi/yNP////+/v7y9Pb6+/v4+frl6e3d4uj09vfs7/LW3OPp7PC/yNPn6u/x8/b////////////////////////t8PPp7PD2+Pnm6u73+Pnb4Ob4+frN1N3e4ujn6+/19vi7xdDL09zHz9jk5+309vfR2ODQ19////8ApgAAogAErgAApwBLxEUjthr8/vspuh1NxUj+//3u+u3k9+GN2od/1XfX8tXz+/Pc9NjL7sjA67yp4KlWx1BPxUpRxkctuCsAmwANthgpAAAAQnRSTlNmAGlnbG8EWnVxd3MK/Xz2fWBeVE1KQDonIJ56MPXc2MbBubGxrKeNfHtbJSIQCDHNzLi4t6qpn5aSjomHhnd1f36xEulSAAACiUlEQVR4Xp3WZ5eiMBQG4BghAUSwF6yj46jTey+70el1e/v//2MDXAJImHN23w/z6eHN1TPkijILMdfqVVpEqEir9TUzs5A4J40KiqXSIKmctEsokdIWkfMmRdLQpoSTGkpNjSxys4zeSdmM8w2K3g3diHJzNQqy2SzG/E/Ur5ohJ+WoxVenzuGhc3qFo0+UieC1EGM8HfY6ecbynd5wyg8RvhbwZqR52uc0SL4/jZzQ9DmhYbXTYbF0nPAASjzeFlrZZ4nsK8K3XU5KQu8ySXaFLxHOG0I7TBpH+AbnlYBP8nKenwS8kkGborzPUtIP6jle9zlWJhL45PuJgj3EcR3K1WES//j91eNDFerrqOpz5bKX0LfzP68e710qHueYwiwndkLPZrfPHrdPYBqKijDLCqiXb76+d/U9FKzANEUEs6jLvvr8MH9LaLaswjQB10N+8+brR1cD1/1poB8rejDMp7vZzevzL66fmMgK8CKiwI9t8F/uZtcP17NHFsY+Bk5RFfiHLhP+5nr2k0XS/Qi8iurwUbU9Fvo5dEP2NPiodbQOX2TuPAQv31ks5zn/i+R4E8E0xjZLybYBs3CcqQTTXKT9A18Es1S81wOmMQ7k/MAIZmmIlw/z+taSTC+1eDkWL1+mDa+HrlkSv2RpOrwebbg4xDjWyI5je2SJUSiBawnqXT/eiV5LO2NXQ3lTXHrCa63CeNC1veLuYFxoaULXolcqeF0zrMLZ0WgwGB2dFSxD0wNdJtEL2/feAUbLKvBYLcOr9vWqmVwHWfcAVc9pmmFoWk5X3WpP043ksoED+BOqzqmqQDUsG+kqy7pPeMHQDKssbVGKZSNflCJkS76G/3/J/+NPiL+Qhb5BUQ8A0wAAAABJRU5ErkJggg=="),Rzlzh.Images.add("theme-icon_new.png","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAaCAMAAAAOh8UzAAABqlBMVEUAAAAHAKIKAKoKAMIKAL8KAL0IAKgHAJYIAKEJALQFAHsJAKsKALsGAIIHAH4HAIgHAJsIAJYKALQKAMYGAIYKAMUHAJYGAIoLALYKALcGAIUGAIIHAI8HAJMJAKsHAI0OCb0IAKEKALAHAI8HAJMHAI6Z54EHAIcIAIoIAKAJAKEHAJFdjY6p65V031Wr6plz3VWs65lw11hu01um4ptszlplv2Op5plesWssR51qjaqs65k+QE/E+ct14VS395fA+I609pvF+YnR/Hyt9aWw9aDL+oOm87Cq9Kmy9p29+JLN+4Gu9aK695TD+YtfcW3C+Mio9KzH+ofJ+oVxiX9ITFXP+tW/+Mmp9LvM+bqQxJmz8JV6oIOFon5tfm9GTFbF+M+198PG98G04Ly19bep3re19qec3KWf3JyVxZO685GCrYh7kISm04GVu3p8lnFZZWWB42NZZWDW+9vE98O897qy37S2362y6qXB96Sl6J6k0pml0piX0JOw6pKSro6+84u37Iqg6YqTxYiR5neKrneJ5W1gcWVccGVsfmFQWF9NWF164ltZZVqPYplzAAAAO3RSTlMAAgMGCxMEST8oBjQdDlVQCUMRDgsJOiEgGhgUUk4mHBYwLy4sJvtWSzw4NSn+9ufVx8GthoBuYFkjCs7PEywAAAH1SURBVCjPdJFHV8JgEEVJAixceRD3rlihHnvJEEISkphQAhKKlCDSpIu9967/2UnigRV3++68r4yDnswS4TChAyMy+1lJSiRkWRAi4Z1QfmNsjHNplAeDi9skQVhG+TgdSKczZU3TqqdytVKv5zCP5lcpirQ7DqATSMX3ACkMhA5c38BdVGFpv5NyE4RtQM00zk4qt3AxgGJxqLBsyzc3M0uRpqHV4Dv13xE27uG9VOqzMS5/tOnCEtPINqBgfMUPoYn3K+nDnq53uWTsiVnBEsuQGtAuABrnudxlEfqPoCd3xdYbs7DlsY1EE9pXxsczIK9d6HG/n6IqzjMMs+6ZtgxZiNjvjyoKno/zoso/vKCx7HK6STSs/wlhztq5qvI8T/8wiN9LmYY1b+eclSOcjzFZ806RxITN/VVBHlsMglAQDfYaxYJiwX5sm/xa/n+TB+SI3u3c82bgK4xP6PFf1XTDLGeCt+j9Z12bpsVkKiplBK7v2FskgbhtbWmIxyDdSCgbDgfbCozJORc1GC8wrDztS3c8dkexk3NauhpaEDeghoIy+ophmBcoyWCHGJKnoJTMvWBsKboKSoSB+JHU7CkNFB3kNZyAoVzRQDHSxLyRJGGYxZ4skYqeGw9inltCED3cAeuGxXNRcZOeIKRypUlkduU/utqEIOzelzkAAAAASUVORK5CYII="),Rzlzh.Images.add("theme_new.png","data:image/png;base64,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"),Rzlzh.Themes=Rzlzh.HeaderPopup.inherit({themes:[],currentTheme:null,header:"Выбор рубашки",className:"_2q",css:{"._2q_0":{position:"relative",":before":{content:'""',position:"absolute",left:"8px",top:"0",width:"33px",height:"26px",background:Rzlzh.Images.get("url(%s) no-repeat","theme-icon_new.png")}},"._2q_1":{padding:"0 20px 30px 20px",display:"inline-block","white-space":"nowrap"},"._2q_2":{position:"relative",width:"160px",height:"200px","margin-left":"20px",display:"inline-block","text-align":"center",":first-child":{"margin-left":"0"}},"._2q_3":{cursor:"pointer",":hover":{"box-shadow":"0 2px 5px 0 #081b30"}},"._2q_4":{":before":{content:'""',position:"absolute",left:"57px",top:"177px",width:"46px",height:"46px",background:Rzlzh.Images.get("url(%s) no-repeat","theme-checker.png")}},"._2q_5":{":after":{content:'""',position:"absolute",left:"-6px",top:"10px",width:"30px",height:"106px",background:Rzlzh.Images.get("url(%s) no-repeat","theme_new.png")}},"._2q_6":{"font-size":"15px","margin-top":"15px",color:"#fff"}},_initComponent:function(){Rzlzh.Themes.superclass._initComponent.apply(this,arguments);var t=!1;this.themes.forEach(function(e,i){e.id===this.currentTheme&&this.themes.unshift(this.themes.splice(i,1)[0]),e.isNew&&(t=!0)},this),this._renderIcon(new Rzlzh.ThemesIcon({className:"_2q_7"+(t?" _2q_0":"")})),this._appendHTML(new Rzlzh.HorizontalScroll({content:this._zen("._2q_1",this.themes.map(function(t){var e="._2q_2"+(t.id===this.currentTheme?"._2q_4":"._2q_3")+(t.isNew?"._2q_5":"")+"[data-theme="+t.id+"][style=background-image: url("+new Templates.Resource("/i/themes/"+t.id+"/cover.png")+")]";return this._zen(e,this._zen("._2q_6",t.title))},this))})),this._on("_2q_1","click",this._2q_8)},_2q_8:function(t){var e=Bricks.Event.getTarget(t,"._2q_2",3);if(e&&!Bricks.DOM.classNameExists(e,"_2q_4")){var i=e.getAttribute("data-theme");i&&(new Rzlzh.Remote).changeTheme(i,function(t){t&&t.success&&location.reload()},this)}}}),Templates.Button=Botex.Tag.inherit({text:"",type:"submit",href:"",size:"m",isBlank:!1,inverse:!1,_render:function(){var t={m:"_12_4",s:"_12_5"}[this.size];return{className:"_12 "+t+(this.inverse?" _12_3":""),content:[Boolean(this.href)&&new Botex.Tag({tagName:"a",className:"_12_0 _12_2",attrs:{href:this.href,target:this.isBlank?"_blank":""},content:this.text}),!this.href&&new Botex.Tag({tagName:"input",className:"_12_0 _12_1",attrs:{type:this.type,value:this.text}})]}}}),Templates.WidgetPlace=Botex.Tag.inherit({widget:"",cfg:{},_render:function(){return{className:"widget",attrs:{onclick:"return ["+this.widget+","+JSON.stringify(this.cfg)+"]"}}}}),Templates.AppPreview=Botex.Tag.inherit({app:null,size:"m",content:"",dbConnected:!1,_render:function(){return{className:["_w preview","xs"===this.size?"_w_7":null,"s"===this.size?"_w_6":null,"m"===this.size?"_w_5":null,this.app.isNew?"_w_8":null].join(" "),attrs:{"data-id":this.app.id,"data-size":this.size},content:[new Botex.Tag({tagName:this.app.aboutHref?"a":"div",className:"_w_0"+(this.app.aboutHref?" _w_1":""),attrs:this.app.aboutHref?{href:this.app.aboutHref}:{},content:this.app.previewTitle?new Botex.Tag({className:"_w_2",content:this.app.previewTitle}):null}),"xs"===this.size&&this.content,new Templates.Button({className:"_w_3",text:this.app.play,href:this.app.href,size:"s",inverse:"xs"!==this.size}),this.dbConnected&&"xs"!==this.size&&new Templates.WidgetPlace({className:"_w_4",widget:"Rzlzh.FavoriteCtrl",cfg:{appId:this.app.id}})]}}}),Rzlzh.FavoritesIcon=Rzlzh.SvgPath.inherit({size:[25,25],pathClassName:"_37_0",viewBox:[0,0,24,24],css:{"._37_0":{fill:"currentColor"}},getPath:function(){return"M12,4.7l1.9,4l0.5,1l1.1,0.2l4.4,0.7l-3.3,3.4l-0.7,0.7l0.2,1l0.8,4.6L13,18.1l-1-0.5l-1,0.5l-3.8,2.1L8,15.6l0.2-1l-0.7-0.7l-3.3-3.4l4.4-0.7l1.1-0.2l0.5-1L12,4.7 M12,0L8.3,7.9L0,9.2l6,6.1L4.6,24l7.4-4.1l7.4,4.1L18,15.3l6-6.1l-8.3-1.3L12,0L12,0z"}}),Rzlzh.Favorites=Rzlzh.HeaderPopup.inherit({user:null,header:"Любимые игры",className:"_2r",css:{"._2r_0":{"text-align":"center"},"._2r_1":{padding:"0 20px 20px","white-space":"nowrap",display:"inline-block"},"._2r_2":{width:"240px",height:"200px","margin-left":"20px",display:"inline-block",":first-child":{"margin-left":"0"}},"._2r_3":{"background-color":"#2e903b","background-image":"linear-gradient(to top, #369c3d, #2e733d)"},"._2r_4":{"margin-top":"20px"},"@media (max-width: 450px)":{"._2r_5":{width:"300px"}}},_initComponent:function(){Rzlzh.Favorites.superclass._initComponent.apply(this,arguments),this._remote=new Rzlzh.Remote,this._renderIcon(new Rzlzh.FavoritesIcon),this._appendHTML(new Rzlzh.HorizontalScroll({content:this._zen("._2r_0",this._zen("._2r_1"))})),this._on(this,"show",this._2r_6)},_2r_6:function(){this.user&&this.user.favorites.length>0?(this._replaceHTML("_2r_1",this.user.favorites.map(function(){return this._zen("._2r_2._2r_3")},this)),this._remote.favorites(function(t){t.success&&(this._replaceHTML("_2r_1",t.favorites.map(function(t){return new Templates.AppPreview({className:"_2r_2",app:t,size:"s",dbConnected:!0})},this)),Rzlzh.initPreviews(this._getEl("_2r_0")),Rzlzh.initWidgets())},this)):this._replaceHTML("_2r_1",[this._zen("img._2r_5[src="+new Templates.Resource("/i/nofavorites.png")+"]"),this._zen("._2r_4","Отмечайте игры для быстрого доступа к ним.")])}}),Rzlzh.IconLogout=Rzlzh.SvgPath.inherit({size:[25,25],viewBox:[0,0,24.4,22],pathClassName:"_38_0",css:{"._38_0":{fill:"currentColor"}},getPath:function(){return"M 16.7,5.9 20.9,10 8.9,10 8.9,12 20.9,12 16.7,16.1 18,17.4 24.4,11 18,4.6 z M3,2h10V0H3C1.3,0,0,1.3,0,3v16c0,1.7,1.3,3,3,3h10v-2H3c-0.6,0-1-0.4-1-1V3C2,2.4,2.4,2,3,2z"
}}),Rzlzh.UserPanel=Rzlzh.HeaderPopup.inherit({user:null,className:"_2s",css:{"._2s_0":{"padding-bottom":"20px","text-align":"right"},"._2s_1":{"font-size":"18px"},"._2s_2":{"margin-top":"10px"},"._2s_3":{width:"20px",height:"20px","margin-left":"5px","vertical-align":"middle"},"._2s_4":{"margin-top":"20px"},"._2s_5":{color:"#357e35",":hover":{color:"#3fc940"}},"._2s_6":{"margin-left":"5px","vertical-align":"middle"}},_initComponent:function(){Rzlzh.UserPanel.superclass._initComponent.apply(this,arguments),this._renderResponsiveContent(this._zen("._2s_0",[this._zen("._2s_1",this.user.displayName),this._zen("._2s_2",["Вход выполнен через ",{vkontakte:"ВКонтакте",odnoklassniki:"Одноклассники",twitter:"Twitter",facebook:"Facebook"}[this.user.provider],this._zen("img._2s_3[src="+new Templates.Resource("/i/providers/"+this.user.provider+".svg")+"]")]),this._zen("._2s_4",this._zen("a._2s_5[href=/logout]",["Выход",new Rzlzh.IconLogout({className:"_2s_6",size:[20,20]})]))]))}}),Rzlzh.IconLogin=Rzlzh.SvgPath.inherit({size:[25,25],viewBox:[0,0,24.4,22],pathClassName:"_2t_0",css:{"._2t_0":{fill:"currentColor"}},getPath:function(){return"M7.9 16.1l1.2 1.3 6.4-6.4-6.4-6.4-1.2 1.3L12 10H0v2h12z M21.4 0h-10v2h10c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1h-10v2h10c1.7 0 3-1.3 3-3V3c0-1.7-1.4-3-3-3z"}}),Rzlzh.SearchIcon=Rzlzh.SvgPath.inherit({size:[20,20],pathClassName:"_3a_0",css:{"._3a_0":{stroke:"currentColor","stroke-width":"8",fill:"none"}},getPath:function(){return"M 5 45 A 40 40 0 1 1 85 45 A 40 40 0 1 1 5 45M 20 50 A 25 25 0 0 1 50 20M 75 75 L 100 100"}}),Templates.InlineLink=Botex.Tag.inherit({text:"",href:"",isBlank:!1,_render:function(){return{tagName:this.href?"a":"span",className:"_u",attrs:{href:this.href||"",target:this.isBlank?"_blank":""},content:this._format("${0}",this.text)}}}),Bricks.Event.stop=function(t){t.preventDefault?(t.preventDefault(),t.stopPropagation()):(t.returnValue=!1,t.cancelBubble=!0)},Rzlzh.Locale={},Rzlzh.Locale.gameSearchPlaceholder="Поиск игры по названию",Rzlzh.Locale.suggestSolitaireText="Пасьянс «%s»",Rzlzh.Locale.suggestGameText="Карточная игра «%s»",Rzlzh.Locale.suggestGolfText="Гольф «%s»",Rzlzh.Locale.suggestSpiderMillennium="Пасьянс «Паук Миллениум»",Rzlzh.InfinitySpider={},Rzlzh.InfinitySpider.Locale={},Rzlzh.InfinitySpider.Locale.title="Паук Миллениум",Rzlzh.Suggest=Rzlzh.Widget.inherit({neededLeftSpace:270,className:"_2u",css:{"._2u":{position:"relative",width:"40px",height:"40px",display:"inline-block"},"._2u_0":{position:"absolute",left:"0",top:"0","z-index":"6",padding:"10px",width:"20px",height:"20px","white-space":"nowrap",overflow:"hidden",transition:"left linear 50ms, width linear 50ms"},"._2u_1":{"vertical-align":"middle",cursor:"pointer",":hover":{color:"#3fc940"}},"._2u_2":{"font-size":"14px",padding:"0","margin-left":"10px",width:"200px","vertical-align":"middle","line-height":"20px",border:"0 none",":focus":{outline:"none"}},"._2u_3":{position:"absolute",left:"-209px",top:"40px","z-index":"5","padding-top":"5px","margin-top":"-5px",width:"250px",display:"none",background:"#fff","box-shadow":"0 1px 4px 0 rgba(0, 0, 0, 0.2)","^ box-shadow":{"padding-top":"0","margin-top":"0","border-bottom":"1px solid #aaa"}},"._2u_4":{"._2u_3":{display:"block"}},"._2u_5":{"font-family":"arial","font-size":"14px",padding:"5px 10px",display:"block","^ box-shadow":{border:"1px solid #aaa","border-top":"0 none","border-bottom":"0 none"},":first-child":{"padding-top":"10px"},":last-child":{"padding-bottom":"10px"}},"._2u_6":{background:"#e1f0e5"},"._2u_7":{"._2u_0":{left:"-210px",width:"230px",background:"#fff",border:"1px solid #5dca54","border-radius":"3px"},":before":{content:'""',position:"absolute",left:"-220px",top:"-10px","z-index":"1",width:"270px",height:"60px",background:"#fff","border-radius":"3px"}}},_initComponent:function(){Rzlzh.Suggest.superclass._initComponent.apply(this,arguments),this._appendHTML([this._zen("label._2u_0",[new Rzlzh.SearchIcon({className:"_2u_1"}),this._zen("input._2u_2[type=text][autocomplete=off][placeholder="+Rzlzh.Locale.gameSearchPlaceholder+"]")]),this._zen("._2u_3")]),this._currentItem=null,this._lastValue="",this._checkValueTID=null,this._items=null,this._on("_2u_2","focus",this._2u_8),this._on("_2u_2","blur",this._2u_9),this._on("_2u_2","keydown",this._2u_a),this._on("_2u_3","mousedown",this._2u_b),this._on("_2u_3","mouseover",this._2u_c)},focus:function(){this._getEl("_2u_2").focus()},_checkValue:function(){var t=Bricks.String.trim(this._getEl("_2u_2").value);if(t!=this._lastValue&&this._items){this._lastValue=t;var e=[];if(t){var i=t.split(/\s+/);e=this._items.filter(function(t){return i.every(function(e){return t.pattern.toLowerCase().replace(/\u0301/g,"").indexOf(e.toLowerCase())>-1})}).slice(0,5)}this._updatePopup(e)}this._checkValueTID=Bricks.Function.defer(this._checkValue,50,this)},_updatePopup:function(t){t.length?(this._addClassName("_2u_4"),this._replaceHTML("_2u_3",t.map(function(t){return new Templates.InlineLink({text:t.text,href:t.href,className:"_2u_5"})})),this._setCurrentItem(this._getEl("_2u_3").firstChild)):(this._removeClassName("_2u_4"),this._setCurrentItem(null))},_setCurrentItem:function(t){this._currentItem&&Bricks.DOM.removeClassName(this._currentItem,"_2u_6"),this._currentItem=t,this._currentItem&&Bricks.DOM.addClassName(this._currentItem,"_2u_6")},_loadItems:function(){this._items||(this._items=[],(new Rzlzh.Remote).apps(function(t){t.forEach(function(t,e,i){var s={solitaire:Rzlzh.Locale.suggestSolitaireText,game:Rzlzh.Locale.suggestGameText,golf:Rzlzh.Locale.suggestGolfText,spidermillennium:Rzlzh.Locale.suggestSpiderMillennium}[t.key],n={spidermillennium:Rzlzh.InfinitySpider.Locale.title}[t.key];t.items.forEach(function(r){this._items.push({text:s.replace("%s",r[0]),href:t.href.replace("%s",r[1]),pattern:n||r[0],weight:i-e})},this)},this)},this))},_2u_8:function(){this._addClassName("_2u_7"),this._loadItems(),this._checkValue(),clearTimeout(this._2u_d);var t=this._getElPos();t[0]<this.neededLeftSpace&&this._setStyle({left:this.neededLeftSpace-t[0]+"px"})},_2u_9:function(){this._2u_d=Bricks.Function.defer(function(){this._removeClassName("_2u_7"),clearTimeout(this._checkValueTID),this._lastValue="",this._updatePopup([]),this._setStyle({left:""})},100,this)},_2u_b:function(t){this.focus(),Bricks.Event.stop(t)},_2u_c:function(t){var e=Bricks.Event.getTarget(t,"._2u_5");e&&this._setCurrentItem(e)},_2u_a:function(t){if(this._currentItem)if(40==t.keyCode||38==t.keyCode){Bricks.Event.stop(t);var e=this._getEl("_2u_3"),i=40==t.keyCode?this._currentItem.nextSibling||e.firstChild:this._currentItem.previousSibling||e.lastChild;this._setCurrentItem(i)}else 13==t.keyCode&&(location.href=this._currentItem.href)}}),Templates.Userpic=Botex.Tag.inherit({src:"",size:50,_render:function(){var t=["https://i.mycdn.me/res/stub_50x50.gif","https://abs.twimg.com/sticky/default_profile_images/default_profile_normal.png","https://vk.com/images/camera_50.png","https://vk.com/images/camera_50.png?ava=1"];return this._isValidSrc=Boolean(this.src&&-1===t.indexOf(this.src)),{tagName:"img",className:"_19",attrs:{src:this._isValidSrc?this.src:new Templates.Resource("/i/user.svg")},style:50===this.size?null:{width:this.size+"px",height:this.size+"px"}}},isValidSrc:function(){return this._isValidSrc}}),Templates.User=Botex.Tag.inherit({user:null,maxWidth:0,userpicSize:32,_render:function(){var t=this._format("${0}",this.user.displayName);if(this.maxWidth)var e={"max-width":this.maxWidth+"px"};return{tagName:"span",className:"_1d"+(this.userpicSize>35?" _1d_1":""),style:e,attrs:{title:t,"data-id":this.user._id},content:[new Templates.Userpic({className:"_1d_0",src:this.user.userpic,size:this.userpicSize}),t]}}}),Templates.Markdown=Botex.Tag.inherit({_render:function(){return{className:"_2j"}}}),Templates.Comment=Botex.Tag.inherit({comment:null,user:null,isActiveUser:!1,_render:function(){return{className:"_2c js-comment",attrs:{id:this.comment._id},content:[new Botex.Tag({className:"_2c_0",content:[new Botex.Tag({className:"_2c_1",attrs:{title:this.user&&this.user.god?this.comment.ua:""},content:[this.user&&this.user.god&&[new Botex.Tag({tagName:"span",className:"_2c_2 _2c_8 js-remove-comment",attrs:{"data-id":this._format(this.comment._id)},content:"Удалить"}),new Botex.Tag({tagName:"span",className:"_2c_2 _2c_8 js-remove-comment",attrs:{"data-id":this._format(this.comment._id),"data-deny":this.comment.user._id},content:"Удалить и забанить"})]]}),new Botex.Tag({tagName:this.isActiveUser?"a":"span",attrs:{href:this.isActiveUser?"#user-"+this.comment.user._id:""},className:"_2c_3",content:[new Templates.Userpic({src:this.comment.user.userpic,className:"_2c_4"}),new Botex.Tag({className:"_2c_5",content:this.comment.user.displayName}),new Botex.Tag({className:"_2c_6",content:this._getTime(this.comment.time)})]})]}),new Botex.Tag({className:"_2c_7",content:new Templates.Markdown({content:this.comment.text})})]}},_getTime:function(t){var e=Date.now()-new Date(t);return 3e4>e?"Только что":348e4>e?this._format("${0 минута|минуты|минут} назад",Math.round(e/6e4)):72e6>e?this._format("${0 час|часа|часов} назад",Math.round(e/36e5)):216e7>e?this._format("${0 день|дня|дней} назад",Math.round(e/864e5)):2592e7>e?this._format("${0 месяц|месяца|месяцев} назад",Math.round(e/864e5/30)):this._format("${0 год|года|лет} назад",Math.round(e/864e5/365))}}),Rzlzh.CommentForm=Rzlzh.Widget.inherit({resource:"",commentsListCls:"",isActiveUsers:!1,css:{"._2v_0":{"font-family":"monospace",width:"100%",height:"100px",resize:"vertical"},"._2v_1":{"font-style":"italic",visibility:"hidden",color:"#c00"},"._2v_2":{"margin-top":"10px","text-align":"right"},"._2v_3":{"._2v_1":{visibility:"visible"}}},_initComponent:function(){Rzlzh.CommentForm.superclass._initComponent.apply(this,arguments),this._commentsListEl=Bricks.DOM.getEls("!."+this.commentsListCls),this._appendHTML(this._zen("form._2v_4",[this._zen("label._2v_5",["Прокомментировать",this._zen("textarea._2v_0")]),this._zen("._2v_1","Не удалось добавить комментарий. Попробуйте позже."),this._zen("._2v_2",[new Templates.Button({text:"Отправить"})])])),this._on("_2v_4","submit",this._2v_6)},setText:function(t){this._getEl("_2v_0").value=t},getText:function(){return this._getEl("_2v_0").value},setEnabled:function(t){for(var e=this._getEl("_2v_4").elements,i=0;i<e.length;i++)e[i].disabled=!t},_2v_6:function(t){Bricks.Event.stop(t);var e=this.getText();if(e){this._removeClassName("_2v_3"),this.setEnabled(!1);var i=new Rzlzh.Remote;i.addComment(this.resource,e,function(t,e){200===e.status?t&&this._commentsListEl&&(this._commentsListEl.innerHTML=t.map(function(t){return new Templates.Comment({comment:t,isActiveUser:this.isActiveUsers})},this).join(""),this.setText("")):403!==e.status&&this._addClassName("_2v_3"),this.setEnabled(!0)},this)}}}),Rzlzh.initWidgets=function(){Bricks.DOM.getEls(".widget").forEach(function(t){Bricks.DOM.removeClassName(t,"widget");var e=t.onclick();new e[0](Bricks.mixin({renderTo:t,user:window.user},e[1]))})},Rzlzh.SelectBox=Rzlzh.Widget.inherit({items:[],className:"_3b",css:{"._3b_0":{"margin-right":"20px",display:"inline-block","white-space":"nowrap","text-decoration":"underline",cursor:"pointer",opacity:"0.6",":hover":{opacity:"1",color:"#0c9600"}},"._3b_1":{"text-decoration":"none",cursor:"default",opacity:"1",":hover":{color:"#000"}}},_initComponent:function(){Rzlzh.SelectBox.superclass._initComponent.apply(this,arguments),this._appendHTML(this.items.map(function(t){return this._zen("span._3b_0",t.text)},this)),this._items=this._getEls("_3b_0"),this._currentItem=-1,this.selectItem(0),this._on("click",this._3b_2)},selectItem:function(t){this._currentItem>-1&&Bricks.DOM.removeClassName(this._items[this._currentItem],"_3b_1"),this._currentItem=t,Bricks.DOM.addClassName(this._items[this._currentItem],"_3b_1"),this._fireEvent("select",{item:this.items[t]})},_3b_2:function(t){var e=Bricks.Event.getTarget(t,"._3b_0");if(e){var i=this._items.indexOf(e);i>-1&&i!=this._currentItem&&this.selectItem(i)}}}),Rzlzh.Locale.allPatiences="Все пасьянсы",Rzlzh.Locale.sortByAlphabetical="По алфавиту",Rzlzh.Locale.sortByPopularity="По популярности",Rzlzh.Locale.sortByDifficulty="По раскладываемости",Rzlzh.Locale.difficultyGroup50="Раскладываются более 50% игр",Rzlzh.Locale.difficultyGroup40="Более 40% игр",Rzlzh.Locale.difficultyGroup30="Более 30% игр",Rzlzh.Locale.difficultyGroup20="Более 20% игр",Rzlzh.Locale.difficultyGroup10="Более 10% игр",Rzlzh.Locale.difficultyGroup5="Более 5% игр",Rzlzh.Locale.difficultyGroup0="Менее 5% игр",Templates.Section=Botex.Tag.inherit({prefix:"",header:"",href:"",footerLink:"",content:"",stick:"none",isBlank:!1,_render:function(){var t=this.header;return this.href&&(t=new Botex.Tag({tagName:"a",className:"_10_3",attrs:{href:this.href,target:this.isBlank?"_blank":""},content:t})),{className:["_10","top"===this.stick&&"_10_0"||null,"bottom"===this.stick&&"_10_1"||null].join(" "),content:[this.prefix,t&&new Botex.Tag({tagName:"h2",className:"_10_2",content:t}),this.content,this.href&&this.footerLink&&new Botex.Tag({className:"_10_4",content:new Templates.InlineLink({text:this.footerLink,href:this.href,isBlank:this.isBlank})})]}}}),Rzlzh.PatiencesList=Rzlzh.Widget.inherit({patiences:[],className:"_2w",css:{"._2w_0":{"margin-top":"20px"},"._2w_1":{"margin-top":"5px"},"._2w_2":{"font-weight":"bold","font-size":"85%","margin-top":"15px"}},_initComponent:function(){Rzlzh.PatiencesList.superclass._initComponent.apply(this,arguments),this._appendHTML(new Templates.Section({header:Rzlzh.Locale.allPatiences,content:new Botex.Tag({className:"_2w_3"})})),this._appendHTML("_2w_3",[new Rzlzh.SelectBox({className:"_2w_4",items:[{text:Rzlzh.Locale.sortByAlphabetical,type:"alphabet"},{text:Rzlzh.Locale.sortByPopularity,type:"users"},{text:Rzlzh.Locale.sortByDifficulty,type:"difficulty"}]}),this._zen("._2w_0")]),this._on(this._getChild("_2w_4"),"select",this._2w_5),this._renderByAlphabet()},_renderByAlphabet:function(){this._render([{items:this.patiences.sort(function(t,e){return t.title<e.title?-1:t.title>e.title?1:0})}])},_renderByUsers:function(){this._render([{items:this.patiences.sort(function(t,e){return e.users-t.users})}])},_renderByDifficulty:function(){var t={};t[Rzlzh.Locale.difficultyGroup50]=500,t[Rzlzh.Locale.difficultyGroup40]=400,t[Rzlzh.Locale.difficultyGroup30]=300,t[Rzlzh.Locale.difficultyGroup20]=200,t[Rzlzh.Locale.difficultyGroup10]=100,t[Rzlzh.Locale.difficultyGroup5]=50,t[Rzlzh.Locale.difficultyGroup0]=0,this._render(this._groupGamesBy("difficulty",t))},_render:function(t){this._replaceHTML("_2w_0",t.map(function(t){return[t.title&&this._zen("._2w_2",t.title),t.items.map(function(t){return this._zen("._2w_1",new Templates.InlineLink({text:t.title,href:"/patiences/"+t.path}))},this)]},this))},_groupGamesBy:function(t,e){var i=Object.keys(e).map(function(t){return{title:t,value:e[t],items:[]}});return this.patiences.sort(function(e,i){return i[t]-e[t]}),this.patiences.forEach(function(e){i.some(function(i){return e[t]>=i.value?(i.items.push(e),!0):void 0})}),i},_2w_5:function(t){"alphabet"==t.item.type?this._renderByAlphabet():"users"==t.item.type?this._renderByUsers():"difficulty"==t.item.type&&this._renderByDifficulty()}}),Rzlzh.initPatiencesList=function(){var t=Bricks.DOM.getEl("js-patiences-list");t&&!t._2f_2&&(t._2f_2=!0,new Rzlzh.PatiencesList({renderTo:t,patiences:t.onclick().map(function(t){return{path:t[0],title:t[1],users:t[2],difficulty:t[3]}})}))},Rzlzh.reinitPageCtrls=function(){Rzlzh.initPreviews(),Rzlzh.initRTB(),Rzlzh.initWidgets(),Rzlzh.initPatiencesList()},Rzlzh.Loader=Rzlzh.Svg.inherit({color:"#000",count:12,className:"_3e",css:{"._3e":{display:"inline-block"},"@keyframes _3e_0":{from:{opacity:"1"},to:{opacity:"0"}},"._3e_1":{opacity:"0",animation:"_3e_0 1s infinite"}},getContent:function(){return Bricks.range(this.count).map(function(t){return{tagName:"rect",className:"_3e_1",style:Bricks.String.format("animation-delay: ${0}s",t/this.count),x:"46.5",y:"40",width:"7",height:"20",rx:"5",ry:"5",fill:this.color,transform:Bricks.String.format("rotate(${0} 50 50) translate(0 -30)",360*t/this.count)}},this)}}),Rzlzh.LayerLoader=Rzlzh.Layer.inherit({loaderColor:"#555",css:{"._30_0":{"text-align":"center"}},_initComponent:function(){Rzlzh.LayerLoader.superclass._initComponent.apply(this,arguments),this.setContent(this._zen("._30_0",new Rzlzh.Loader({color:this.loaderColor})))}}),Templates.RatingPositionNumber=Botex.Tag.inherit({position:0,_render:function(){var t="";return t=1===this.position?"_18_0":2===this.position?"_18_1":3===this.position?"_18_2":this.position>=4&&this.position<=9?"_18_3":this.position>=10&&this.position<=99?"_18_4":this.position>=100&&this.position<=999?"_18_5":this.position>=1e3&&this.position<=9999?"_18_6":"_18_7",{className:"_18 "+t,content:this.position?[this.position,"."]:""}}}),Templates.UserScoresRow=Botex.Tag.inherit({user:null,currentUser:null,position:0,scores:0,isClickable:!1,scoresLabel:"балл|балла|баллов",_render:function(){return{tagName:this.isClickable?"a":"div",className:["_29",this.currentUser&&this.currentUser._id===this.user._id?"_29_3":""].join(" "),attrs:{href:this.isClickable?"#user-"+this.user._id:""},content:[new Templates.RatingPositionNumber({position:this.position}),new Templates.Userpic({src:this.user.userpic}),new Botex.Tag({className:"_29_0",content:[new Botex.Tag({className:"_29_1",content:this.user.displayName}),new Botex.Tag({className:"_29_2",content:this._format("${0 "+this.scoresLabel+"}",this.scores)})]})]}}}),Bricks.Number={},Bricks.Number.plural=function(t,e,i){return(i?"":t+" ")+e.split("|")[Bricks.Number.pluralIndex(t)]},Bricks.Number.pluralIndex=function(t){return t%10==1&&t%100!=11?0:t%10>=2&&4>=t%10&&(10>t%100||t%100>=20)?1:2},Bricks.Date={},Bricks.Date.isLeapYear=function(t){var e=t.getFullYear();return Boolean(0==(3&e)&&(e%100||e%400==0&&e))},Bricks.Date.getDaysInMonth=function(t){var e=t.getMonth();return 1==e&&Bricks.Date.isLeapYear(t)?29:[31,28,31,30,31,30,31,31,30,31,30,31][e]},Bricks.Date.getDayOfYear=function(t){for(var e=[31,Bricks.Date.isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31],i=0,s=0,n=t.getMonth();n>s;s++)i+=e[s];return i+this.getDate()-1},Bricks.Date.getGMTOffset=function(t,e){var i=function(t){return(10>t?"0":"")+t};return(t.getTimezoneOffset()>0?"-":"+")+i(Math.floor(Math.abs(t.getTimezoneOffset())/60))+(e?":":"")+i(Math.abs(t.getTimezoneOffset()%60))},Bricks.Date.getWeekOfYear=function(t){var e=864e5,i=7*e,s=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate()+3)/e,n=Math.floor(s/7),r=new Date(n*i).getUTCFullYear();return n-Math.floor(Date.UTC(r,0,7)/i)+1},Bricks.Date._formatters={},Bricks.Date._symbols={a:'d.getHours()<12?"am":"pm"',A:'d.getHours()<12?"AM":"PM"',c:'{Y}+"-"+pad({n})+"-"+pad({j})+"T"+pad({G})+":"+{i}+":"+{s}+D.getGMTOffset(d,true)',d:"pad({j})",D:'["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][d.getDay()]',F:'["January","February","March","April","May","June","July","August","September","October","November","December"][d.getMonth()]',g:"d.getHours()%12||12",G:"d.getHours()",h:"pad({g})",H:"pad({G})",i:"pad(d.getMinutes())",j:"d.getDate()",l:'["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][d.getDay()]',L:"D.isLeapYear(d)?1:0",m:"pad({n})",M:'["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][d.getMonth()]',n:"d.getMonth()+1",O:"D.getGMTOffset(d)",r:'{D}+", "+{d}+" "+{M}+" "+{Y}+" "+{H}+":"+{i}+":"+{s}+" "+{O}',s:"pad(d.getSeconds())",S:'["st","nd","rd"][{1:0,21:0,31:0,2:1,22:1,3:2,23:2}[{j}]]||"th"',t:"D.getDaysInMonth(d)",U:"Math.floor(d.getTime()/1e3)",w:"d.getDay()",W:"pad(D.getWeekOfYear(d))",y:"d.getFullYear()%100",Y:"d.getFullYear()",z:"D.getDayOfYear(d)",Z:"-60*d.getTimezoneOffset()"},function(t){for(var e in t)t.hasOwnProperty(e)&&(t[e]=t[e].replace(/\{([a-z])\}/gi,function(e,i){return t[i]||e}))}(Bricks.Date._symbols),Bricks.Date.format=function(t,e){var i=function(t){return(10>t?"0":"")+t};if(!Bricks.Date._formatters[e]){var s=!1;Bricks.Date._formatters[e]=new Function("d,D","var pad="+i.toString()+';return""'+e.replace(/./g,function(t){return"\\"==t?(s=!s,s?"":'+"\\\\"'):s||!Bricks.Date._symbols[t]?(s=!1,'+"'+t+'"'):"+("+Bricks.Date._symbols[t]+")"}))}return Bricks.Date._formatters[e](t,Bricks.Date)},Rzlzh.Images.add("2players.svg","data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyOSIgaGVpZ2h0PSIxMyI+PHBhdGggZGF0YS1uYW1lPSIyIiBkPSJNMjQuNTE5LjAwNmEzLjI1MyAzLjI1MyAwIDEgMS0zLjIyNSAzLjI1M0EzLjIzOSAzLjIzOSAwIDAgMSAyNC41MTkuMDA2em0wIC45NTlhMi4yODcgMi4yODcgMCAxIDEtMi4yNjQgMi4yODdBMi4yNzUgMi4yNzUgMCAwIDEgMjQuNTE2Ljk2NXptLjAwOSA2LjMzNWE1IDUgMCAwIDEgNC44MjMgNS4xNjRjMCAuMTUyLS4wMTguNDUtLjAxOC40NWwtOS42LjA4NHMtLjAyNi0uMzU0LS4wMjYtLjUzNEE1IDUgMCAwIDEgMjQuNTI4IDcuM3ptLS4wMTIuN2EzLjk4MyAzLjk4MyAwIDAgMSA0LjA3MSAzLjg4OGMwIC4xMTQtLjAxNS4zMzktLjAxNS4zMzlsLTguMS4wNjNzLS4wMjEtLjI2Ni0uMDIxLS40QTMuOTgyIDMuOTgyIDAgMCAxIDI0LjUxNiA4em0tNy41MzktNi4zN0EyLjc1MSAyLjc1MSAwIDEgMCAxOS43IDQuMzgxYTIuNzM5IDIuNzM5IDAgMCAwLTIuNzIzLTIuNzUxem0wIC44MTFhMS45MzMgMS45MzMgMCAxIDAgMS45MTQgMS45MzMgMS45MjQgMS45MjQgMCAwIDAtMS45MTItMS45MzN6bS00LjUwNiAxMC41MTNsNi40NjMuMDUzdi0uOGwtLjAxMi0uMDA3LTUuNTgyLS4wMzhzLS4wMTMtLjE3MS0uMDEzLS4yNThjMC0xLjYzNiAxLjYtMi45NjIgMy41NzYtMi45NjJhMy45OSAzLjk5IDAgMCAxIDIuMzQ5Ljc0NWwuNC0uNmE0LjQwNyA0LjQwNyAwIDAgMC0yLjc0NC0uOTcxIDQuNDU0IDQuNDU0IDAgMCAwLTQuNDUyIDQuNDU2Yy0uMDAyLjEyOC4wMTUuMzgyLjAxNS4zODJ6IiBmaWxsPSIjMGM5NjAwIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4="),Rzlzh.Images.add("3players.svg","data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyOSIgaGVpZ2h0PSIxMyI+PHBhdGggZGF0YS1uYW1lPSIzIiBkPSJNMTcuNDkxLjAwNmEzLjI1MyAzLjI1MyAwIDEgMS0zLjIyNSAzLjI1M0EzLjIzOSAzLjIzOSAwIDAgMSAxNy40OTEuMDA2em0wIC45NTlhMi4yODcgMi4yODcgMCAxIDEtMi4yNjQgMi4yODdBMi4yNzUgMi4yNzUgMCAwIDEgMTcuNDg5Ljk2NXpNMTcuNSA3LjNhNSA1IDAgMCAxIDQuODIzIDUuMTY0YzAgLjE1Mi0uMDE4LjQ1LS4wMTguNDVMMTIuNyAxM3MtLjAyNi0uMzU0LS4wMjYtLjUzNEE1IDUgMCAwIDEgMTcuNSA3LjN6bS0uMDExLjdhMy45ODMgMy45ODMgMCAwIDEgNC4wNzEgMy44ODhjMCAuMTE0LS4wMTUuMzM5LS4wMTUuMzM5bC04LjEuMDYzcy0uMDIxLS4yNjYtLjAyMS0uNEEzLjk4MyAzLjk4MyAwIDAgMSAxNy40ODkgOHptNy41OTQtNi4zMTZhMi43MzIgMi43MzIgMCAxIDEtMi43MDkgMi43MzIgMi43MiAyLjcyIDAgMCAxIDIuNzA4LTIuNzM1em0wIC44MDVhMS45MjEgMS45MjEgMCAxIDEtMS45IDEuOTIgMS45MTEgMS45MTEgMCAwIDEgMS44OTctMS45MjN6bTQuNDc3IDEwLjQ0MmwtNi40MTguMDUzdi0uNzk2bC4wMTItLjAxMiA1LjU0My0uMDM4cy4wMTMtLjE3LjAxMy0uMjU3YzAtMS42MjUtMS41OS0yLjk0Mi0zLjU1MS0yLjk0MmEzLjk2MiAzLjk2MiAwIDAgMC0yLjMzMi43NGwtLjM5NS0uNmE0LjM3NSA0LjM3NSAwIDAgMSAyLjcyNC0uOTY1IDQuNDIzIDQuNDIzIDAgMCAxIDQuNDIxIDQuNDI2Yy0uMDAzLjEzMy0uMDIuMzg5LS4wMi4zODl6TTkuOTQ5IDEuNjNhMi43NTEgMi43NTEgMCAxIDAgMi43MjggMi43NSAyLjczOSAyLjczOSAwIDAgMC0yLjcyOC0yLjc1em0wIC44MTFhMS45MzMgMS45MzMgMCAxIDAgMS45MTQgMS45MzMgMS45MjQgMS45MjQgMCAwIDAtMS45MTItMS45MzN6TTUuNDQzIDEyLjk1NGw2LjQ2My4wNTN2LS44bC0uMDEyLS4wMDctNS41ODItLjAzOFM2LjMgMTEuOTg2IDYuMyAxMS45YzAtMS42MzYgMS42LTIuOTYyIDMuNTc2LTIuOTYyYTMuOTkgMy45OSAwIDAgMSAyLjM0OS43NDVsLjQtLjZhNC40MDcgNC40MDcgMCAwIDAtMi43NDQtLjk3MSA0LjQ1NCA0LjQ1NCAwIDAgMC00LjQ1MiA0LjQ1NmMtLjAwMy4xMzIuMDE0LjM4Ni4wMTQuMzg2eiIgZmlsbD0iIzBjOTYwMCIgZmlsbC1ydWxlPSJldmVub2RkIi8+PC9zdmc+"),Rzlzh.Images.add("4players.svg","data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyOSIgaGVpZ2h0PSIxMyI+PHBhdGggZGF0YS1uYW1lPSI0IiBkPSJNMjQuMTU4LjAwNmEzLjI1MyAzLjI1MyAwIDEgMS0zLjIyNSAzLjI1M0EzLjIzOSAzLjIzOSAwIDAgMSAyNC4xNTguMDA2em0wIC45NTlhMi4yODcgMi4yODcgMCAxIDEtMi4yNjQgMi4yODdBMi4yNzUgMi4yNzUgMCAwIDEgMjQuMTU1Ljk2NXptLjAwOSA2LjMzNWE1IDUgMCAwIDEgNC44MjMgNS4xNjRjMCAuMTUyLS4wMTguNDUtLjAxOC40NUwxOS4zNyAxM3MtLjAyNi0uMzU0LS4wMjYtLjUzNEE1IDUgMCAwIDEgMjQuMTY3IDcuM3ptLS4wMTIuN2EzLjk4MiAzLjk4MiAwIDAgMSA0LjA3MSAzLjg4OGMwIC4xMTQtLjAxNS4zMzktLjAxNS4zMzlsLTguMS4wNjNzLS4wMjItLjI2Ni0uMDIyLS40QTMuOTgyIDMuOTgyIDAgMCAxIDI0LjE1NSA4em0tNi43MzQtNi4zN2EyLjc1MSAyLjc1MSAwIDEgMCAyLjcyOCAyLjc1IDIuNzM5IDIuNzM5IDAgMCAwLTIuNzI4LTIuNzV6bTAgLjgxMWExLjkzMyAxLjkzMyAwIDEgMCAxLjkxNCAxLjkzMyAxLjkyNCAxLjkyNCAwIDAgMC0xLjkxMi0xLjkzM3ptLTQuNTA4IDEwLjUxM2w1Ljc4Ny4wNTN2LS43OTVsLS4wMTMtLjAxMi01LS4wMzhzLS4wMTItLjE3LS4wMTItLjI1N2EzLjA4MiAzLjA4MiAwIDAgMSAzLjItMi45NDYgMy4zMzQgMy4zMzQgMCAwIDEgMi4xLjc0MWwuMzU2LS42YTMuNzA4IDMuNzA4IDAgMCAwLTIuNDU2LS45NjYgNC4yMjcgNC4yMjcgMCAwIDAtMy45NzUgNC40MzNjMCAuMTMzLjAxMy4zODcuMDEzLjM4N3pNMTAuOTc3IDEuNjNBMi43NTEgMi43NTEgMCAxIDAgMTMuNyA0LjM4MWEyLjczOSAyLjczOSAwIDAgMC0yLjcyMy0yLjc1MXptMCAuODExYTEuOTMzIDEuOTMzIDAgMSAwIDEuOTE0IDEuOTMzIDEuOTI0IDEuOTI0IDAgMCAwLTEuOTEyLTEuOTMzek02LjQ2OCAxMi45NTRsNS43ODUuMDUzdi0uNzk1bC0uMDEtLjAxMi01LS4wMzhzLS4wMTItLjE3LS4wMTItLjI1N2EzLjA4MiAzLjA4MiAwIDAgMSAzLjItMi45NDYgMy4zMzQgMy4zMzQgMCAwIDEgMi4xLjc0MWwuMzU2LS42YTMuNzA4IDMuNzA4IDAgMCAwLTIuNDU2LS45NjYgNC4yMjcgNC4yMjcgMCAwIDAtMy45ODUgNC40MzNsLjAyMi4zODd6TTQuNTMzIDEuNjNBMi43NTEgMi43NTEgMCAxIDAgNy4yNiA0LjM4MSAyLjczOSAyLjczOSAwIDAgMCA0LjUzMyAxLjYzem0wIC44MTFhMS45MzMgMS45MzMgMCAxIDAgMS45MTYgMS45MzMgMS45MjQgMS45MjQgMCAwIDAtMS45MTQtMS45MzN6TS4wMjQgMTIuOTU0bDUuNzg1LjA1M3YtLjc5NUw1LjggMTIuMmwtNS0uMDM4cy0uMDEtLjE3LS4wMS0uMjU3YTMuMDgyIDMuMDgyIDAgMCAxIDMuMi0yLjk0NiAzLjMzNSAzLjMzNSAwIDAgMSAyLjEuNzQxbC4zNTYtLjZhMy43MDkgMy43MDkgMCAwIDAtMi40NTYtLjk2NiA0LjIyNyA0LjIyNyAwIDAgMC0zLjk4MSA0LjQzM2MwIC4xMzMuMDE1LjM4Ny4wMTUuMzg3eiIgZmlsbD0iIzBjOTYwMCIgZmlsbC1ydWxlPSJldmVub2RkIi8+PC9zdmc+"),Rzlzh.ScoresRatingUserInfo=Rzlzh.Widget.inherit({user:null,currentUser:null,gamestat:null,rating:null,lastResults:[],lastResultsLimit:50,className:"_32",css:{"._32":{width:"300px",overflow:"hidden",background:"#fff"},"._32_0":{padding:"10px",overflow:"hidden",background:"linear-gradient(to bottom, #d5ead9, #f8fbf0)"},"._32_1":{"float":"left",margin:"0 10px 10px 0"},"._32_2":{"font-size":"15px","margin-top":"15px","white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis"},"._32_3":{margin:"10px 0",color:"rgba(0, 0, 0, 0.7)"},"._32_4":{margin:"20px 0 5px 0",color:"rgba(0, 0, 0, 0.7)"},"._32_5":{width:"100%","margin-bottom":"10px",clear:"left","border-spacing":"0","line-height":"20px"},"._32_6":{"padding-left":"10px",color:"rgba(0, 0, 0, 0.7)"},"._32_7":{"padding-right":"10px","text-align":"right"},"._32_8":{width:"29px",height:"13px","margin-right":"5px",display:"inline-block",background:"no-repeat left center"},"._32_9":{"background-image":Rzlzh.Images.get("url(%s)","2players.svg")},"._32_a":{"background-image":Rzlzh.Images.get("url(%s)","3players.svg")},"._32_b":{"background-image":Rzlzh.Images.get("url(%s)","4players.svg")},"._32_c":{display:"inline-block",color:"#000"},"._32_d":{padding:"0 10px",margin:"30px 0 10px 0",":first-child":{"margin-top":"10px"}},"._32_e":{"font-size":"16px",margin:"10px 0",color:"rgba(0, 0, 0, 0.8)"},"._32_f":{margin:"10px 0"},"._32_g":{transform:"scale(0.85)"},"._32_h":{"margin-top":"20px",padding:"10px",background:"#f8fbf0"},"._32_i":{"font-size":"15px"},"._32_j":{width:"100%","margin-top":"10px","border-spacing":"0"},"._32_k":{padding:"7px 0","vertical-align":"top"},"._32_l":{"padding-left":"10px","padding-right":"10px",color:"rgba(0, 0, 0, 0.7)"},"._32_m":{"text-align":"right"},"._32_n":{cursor:"pointer",color:"#000",":hover":{color:"#0c9600"}},"._32_o":{"font-style":"italic"},"._32_p":{color:"#0c9600"},"._32_q":{color:"#ad2329"}},_initComponent:function(){Rzlzh.ScoresRatingUserInfo.superclass._initComponent.apply(this,arguments);var t=this.gamestat&&(this.gamestat[2]||this.gamestat[3]||this.gamestat[4]);this._appendHTML([Boolean(!(t||this.rating&&this.rating.total||this.lastResults&&0!==this.lastResults.length))&&this._zen("._32_0",[new Templates.Userpic({className:"_32_1",src:this.user.userpic}),this._zen("._32_2",this.user.displayName),this._zen("._32_3","Не участвует в рейтинге")]),this.rating&&this.rating.total&&this._renderRating("За всё время",this.rating.total),this.rating&&this.rating.byweek&&this._renderRating("За последние 7 дней",this.rating.byweek),t&&[this._zen("table._32_5",[this._renderGamestatRow(2),this._renderGamestatRow(3),this._renderGamestatRow(4)])],this.rating&&this.rating.byday&&this._renderRating("За последние 24 часа",this.rating.byday),this.lastResults&&this.lastResults.length>0&&this._zen("._32_h",[this._zen("._32_i",[this.lastResults.length>=this.lastResultsLimit&&this.lastResultsLimit+" последних результатов",this.lastResults.length<this.lastResultsLimit&&"Результаты за последние 24 часа"]),this._zen("table._32_j",this.lastResults.map(function(t){return this._zen("tr._32_r",[this._zen("td._32_k._32_s",Bricks.Date.format(new Date(t.time),"H:i")),this._zen("td._32_k._32_l",this._renderRivals(t.rivals)),this._zen("td._32_k._32_m",this._renderScores(t.scores))])},this))])])},_renderRivals:function(t){t.sort(function(t,e){var i=t?1:0,s=e?1:0;return s-i});for(var e=[],i=0;i<t.length;i++){if(!t[i]){e.push(0===i?"":" и ",this._zen("span._32_t._32_o",{1:0===i?"Незарегистрированный игрок":"незарегистрированный игрок",2:"2 незарегистрированных игрока",3:"3 незарегистрированных игрока"}[t.length-i]));break}e.push(0===i?"":i===t.length-1?" и ":", ",new Templates.InlineLink({text:t[i].displayName,href:"#user-"+t[i]._id}))}return e},_renderRating:function(t,e){return this._zen("._32_d",[this._zen("._32_e",t),e.map(function(t){var e=t.user._id!==this.user._id;return new Templates.UserScoresRow({className:"_32_f"+(e?" _32_g":""),user:t.user,currentUser:this.currentUser,position:t.position,scores:t.scores,isClickable:e})},this)])},_renderGamestatRow:function(t){var e={2:"_32_9",3:"_32_a",4:"_32_b"}[t],i={2:"вдвоём",3:"втроём",4:"вчетвером"}[t];return this.gamestat[t]&&this._zen("tr._32_u",[this._zen("td._32_v._32_6",[this._zen("._32_8."+e),this._zen("._32_c",Bricks.Number.plural(this.gamestat[t].count,"игра|игры|игр"))," ",i]),this._zen("td._32_v._32_7",[this._renderScores(this.gamestat[t].scores)])])},_renderScores:function(t){return this._zen("._32_w"+(t>0?"._32_p":0>t?"._32_q":"._32_x"),[t>0&&"+",t])}}),Rzlzh.LayerScoresRatingUserInfo=Rzlzh.LayerLoader.inherit({url:"",userId:null,currentUser:null,noPaddings:!0,destroyOnHide:!0,className:"_2o",css:{},_initComponent:function(){Rzlzh.LayerScoresRatingUserInfo.superclass._initComponent.apply(this,arguments),(new Rzlzh.Remote).userinfo(this.url,this.userId,function(t){this.setContent(new Rzlzh.ScoresRatingUserInfo({user:t.user,currentUser:this.currentUser,gamestat:t.gamestat,lastResults:t.lastResults,rating:t.rating}))},this)},getUserId:function(){return this.userId}}),Rzlzh.checkHash=function(){if(window.userinfoURL){this._2f_0&&this._2f_0.destroy();var t=location.hash.slice(1);if(t.match(/^user-([0-9a-f]+)$/)){var e=RegExp.$1;this._2f_0=new Rzlzh.LayerScoresRatingUserInfo({url:window.userinfoURL,userId:e,currentUser:window.user}),Bricks.DOM.on(this._2f_0,"destroy",function i(t){location.hash==="#user-"+t.target.getUserId()&&(location.hash="#wow"),Bricks.DOM.un(t.target,"destroy",i)}),this._2f_0.show()}}},Rzlzh.initPageCtrls=function(){Rzlzh.reinitPageCtrls(),Bricks.DOM.on(window,"scroll",Bricks.Function.debounce(function(){Rzlzh.initPreviews()},100),!0),Bricks.DOM.on(window,"resize",Bricks.Function.debounce(function(){Rzlzh.initPreviews(),Rzlzh.initRTB()},200)),Bricks.DOM.on(window,"hashchange",function(){Rzlzh.initPreviews()}),Bricks.DOM.on(window,"load",function(){Rzlzh.initPreviews()}),Bricks.DOM.on(document,"click",function(t){var e=Bricks.Event.getTarget(t,".js-auth");if(e){"A"===e.tagName&&Bricks.Event.stop(t);var i=new Rzlzh.LayerAuth;i.auth(e.getAttribute("data-provider"),function(t){t&&location.reload()})}}),Rzlzh.checkHash(),Bricks.DOM.on(window,"hashchange",Rzlzh.checkHash,Rzlzh)},Rzlzh.initPageCtrls(),window.opener&&/^http:\/\/(vseigru\.net|gamezgid\.ru|karty-durak\.ru|woravel\.ru)\//.test(document.referrer)&&1===history.length&&(window.opener.location=window.location,window.close()),"igra-pasyans.ru"===location.host&&(location.href="https://razlozhi.ru/");